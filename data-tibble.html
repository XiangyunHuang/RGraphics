<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>第 6 章 净土化操作 | 数据科学与 R 语言</title>
  <meta name="description" content="数据操作、数据分析、数据建模、动态报告和数据可视化" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="第 6 章 净土化操作 | 数据科学与 R 语言" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://bookdown.org/xiangyun/RGraphics/" />
  
  <meta property="og:description" content="数据操作、数据分析、数据建模、动态报告和数据可视化" />
  <meta name="github-repo" content="XiangyunHuang/RGraphics" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="第 6 章 净土化操作 | 数据科学与 R 语言" />
  
  <meta name="twitter:description" content="数据操作、数据分析、数据建模、动态报告和数据可视化" />
  

<meta name="author" content="黄湘云" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-frame.html"/>
<link rel="next" href="data-table.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<script src="libs/proj4js-2.3.15/proj4.js"></script>
<link href="libs/highcharts-7.0.1/css/motion.css" rel="stylesheet" />
<link href="libs/highcharts-7.0.1/css/htmlwdgtgrid.css" rel="stylesheet" />
<script src="libs/highcharts-7.0.1/highcharts.js"></script>
<script src="libs/highcharts-7.0.1/highcharts-3d.js"></script>
<script src="libs/highcharts-7.0.1/highcharts-more.js"></script>
<script src="libs/highcharts-7.0.1/modules/stock.js"></script>
<script src="libs/highcharts-7.0.1/modules/map.js"></script>
<script src="libs/highcharts-7.0.1/modules/annotations.js"></script>
<script src="libs/highcharts-7.0.1/modules/boost.js"></script>
<script src="libs/highcharts-7.0.1/modules/data.js"></script>
<script src="libs/highcharts-7.0.1/modules/drag-panes.js"></script>
<script src="libs/highcharts-7.0.1/modules/drilldown.js"></script>
<script src="libs/highcharts-7.0.1/modules/item-series.js"></script>
<script src="libs/highcharts-7.0.1/modules/offline-exporting.js"></script>
<script src="libs/highcharts-7.0.1/modules/overlapping-datalabels.js"></script>
<script src="libs/highcharts-7.0.1/modules/exporting.js"></script>
<script src="libs/highcharts-7.0.1/modules/export-data.js"></script>
<script src="libs/highcharts-7.0.1/modules/funnel.js"></script>
<script src="libs/highcharts-7.0.1/modules/heatmap.js"></script>
<script src="libs/highcharts-7.0.1/modules/treemap.js"></script>
<script src="libs/highcharts-7.0.1/modules/sankey.js"></script>
<script src="libs/highcharts-7.0.1/modules/solid-gauge.js"></script>
<script src="libs/highcharts-7.0.1/modules/streamgraph.js"></script>
<script src="libs/highcharts-7.0.1/modules/sunburst.js"></script>
<script src="libs/highcharts-7.0.1/modules/vector.js"></script>
<script src="libs/highcharts-7.0.1/modules/wordcloud.js"></script>
<script src="libs/highcharts-7.0.1/modules/xrange.js"></script>
<script src="libs/highcharts-7.0.1/modules/tilemap.js"></script>
<script src="libs/highcharts-7.0.1/modules/venn.js"></script>
<script src="libs/highcharts-7.0.1/modules/gantt.js"></script>
<script src="libs/highcharts-7.0.1/modules/timeline.js"></script>
<script src="libs/highcharts-7.0.1/modules/parallel-coordinates.js"></script>
<script src="libs/highcharts-7.0.1/plugins/grouped-categories.js"></script>
<script src="libs/highcharts-7.0.1/plugins/motion.js"></script>
<script src="libs/highcharts-7.0.1/plugins/multicolor_series.js"></script>
<script src="libs/highcharts-7.0.1/custom/reset.js"></script>
<script src="libs/highcharts-7.0.1/custom/symbols-extra.js"></script>
<script src="libs/highcharts-7.0.1/custom/text-symbols.js"></script>
<script src="libs/highchart-binding-0.7.0/highchart.js"></script>
<script src="libs/plotly-binding-4.9.2.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.52.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.52.2/plotly-latest.min.js"></script>
<script src="libs/dagre-0.8.4/dagre.min.js"></script>
<script src="libs/lodash-4.17.15/lodash.js"></script>
<script src="libs/nomnoml-0.7.2/nomnoml.js"></script>
<script src="libs/nomnoml-binding-0.2.0/nomnoml.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/Proj4Leaflet-1.0.1/proj4-compressed.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.3/leaflet.js"></script>
<link href="libs/vis-4.20.1/vis.css" rel="stylesheet" />
<script src="libs/vis-4.20.1/vis.min.js"></script>
<script src="libs/visNetwork-binding-2.0.9/visNetwork.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">数据科学与 R 语言</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>欢迎</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#why-r"><i class="fa fa-check"></i>Why R</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#who-read-this-book"><i class="fa fa-check"></i>目标读者</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#Getting-Help-with-R"><i class="fa fa-check"></i>获取帮助</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#history-of-r"><i class="fa fa-check"></i>发展历史</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#conventions"><i class="fa fa-check"></i>记号约定</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#session-info"><i class="fa fa-check"></i>运行环境</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html"><i class="fa fa-check"></i>前言</a><ul>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#what-talk-about"><i class="fa fa-check"></i>关于本书</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#structure-of-book"><i class="fa fa-check"></i>本书结构</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#about-author"><i class="fa fa-check"></i>关于作者</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="setup.html"><a href="setup.html"><i class="fa fa-check"></i><b>1</b> 安装与配置</a><ul>
<li class="chapter" data-level="1.1" data-path="setup.html"><a href="setup.html#repo-install"><i class="fa fa-check"></i><b>1.1</b> 仓库安装</a><ul>
<li class="chapter" data-level="1.1.1" data-path="setup.html"><a href="setup.html#ubuntu"><i class="fa fa-check"></i><b>1.1.1</b> Ubuntu</a></li>
<li class="chapter" data-level="1.1.2" data-path="setup.html"><a href="setup.html#centos"><i class="fa fa-check"></i><b>1.1.2</b> CentOS</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="setup.html"><a href="setup.html#source-install"><i class="fa fa-check"></i><b>1.2</b> 源码安装</a><ul>
<li class="chapter" data-level="1.2.1" data-path="setup.html"><a href="setup.html#ubuntu-1"><i class="fa fa-check"></i><b>1.2.1</b> Ubuntu</a></li>
<li class="chapter" data-level="1.2.2" data-path="setup.html"><a href="setup.html#centos-1"><i class="fa fa-check"></i><b>1.2.2</b> CentOS</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="setup.html"><a href="setup.html#ninja-install"><i class="fa fa-check"></i><b>1.3</b> 忍者安装</a></li>
<li class="chapter" data-level="1.4" data-path="setup.html"><a href="setup.html#settings"><i class="fa fa-check"></i><b>1.4</b> 配置</a><ul>
<li class="chapter" data-level="1.4.1" data-path="setup.html"><a href="setup.html#init-session"><i class="fa fa-check"></i><b>1.4.1</b> 初始会话 <code>.Rprofile</code></a></li>
<li class="chapter" data-level="1.4.2" data-path="setup.html"><a href="setup.html#environ-vars"><i class="fa fa-check"></i><b>1.4.2</b> 环境变量 <code>.Renviron</code></a></li>
<li class="chapter" data-level="1.4.3" data-path="setup.html"><a href="setup.html#make-vars"><i class="fa fa-check"></i><b>1.4.3</b> 编译选项 <code>Makevars</code></a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="setup.html"><a href="setup.html#command-line-arguments"><i class="fa fa-check"></i><b>1.5</b> 命令行参数</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="files.html"><a href="files.html"><i class="fa fa-check"></i><b>2</b> 文件管理员</a><ul>
<li class="chapter" data-level="2.1" data-path="files.html"><a href="files.html#list"><i class="fa fa-check"></i><b>2.1</b> 查看文件</a></li>
<li class="chapter" data-level="2.2" data-path="files.html"><a href="files.html#manipulation"><i class="fa fa-check"></i><b>2.2</b> 操作文件</a></li>
<li class="chapter" data-level="2.3" data-path="files.html"><a href="files.html#compression"><i class="fa fa-check"></i><b>2.3</b> 压缩文件</a></li>
<li class="chapter" data-level="2.4" data-path="files.html"><a href="files.html#paths"><i class="fa fa-check"></i><b>2.4</b> 路径操作</a></li>
<li class="chapter" data-level="2.5" data-path="files.html"><a href="files.html#find"><i class="fa fa-check"></i><b>2.5</b> 查找文件</a></li>
<li class="chapter" data-level="2.6" data-path="files.html"><a href="files.html#permissions"><i class="fa fa-check"></i><b>2.6</b> 文件权限</a></li>
<li class="chapter" data-level="2.7" data-path="files.html"><a href="files.html#locale"><i class="fa fa-check"></i><b>2.7</b> 区域设置</a></li>
<li class="chapter" data-level="2.8" data-path="files.html"><a href="files.html#process"><i class="fa fa-check"></i><b>2.8</b> 进程管理</a></li>
<li class="chapter" data-level="2.9" data-path="files.html"><a href="files.html#system-commands"><i class="fa fa-check"></i><b>2.9</b> 系统命令</a></li>
<li class="chapter" data-level="2.10" data-path="files.html"><a href="files.html#time"><i class="fa fa-check"></i><b>2.10</b> 时间管理</a></li>
<li class="chapter" data-level="2.11" data-path="files.html"><a href="files.html#package"><i class="fa fa-check"></i><b>2.11</b> R 包管理</a></li>
<li class="chapter" data-level="2.12" data-path="files.html"><a href="files.html#lookup-function"><i class="fa fa-check"></i><b>2.12</b> 查找函数</a></li>
<li class="chapter" data-level="2.13" data-path="files.html"><a href="files.html#files-session-info"><i class="fa fa-check"></i><b>2.13</b> 运行环境</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-objects.html"><a href="data-objects.html"><i class="fa fa-check"></i><b>3</b> 对象在哪里</a><ul>
<li class="chapter" data-level="3.1" data-path="data-objects.html"><a href="data-objects.html#subsec:typeof"><i class="fa fa-check"></i><b>3.1</b> 类型</a></li>
<li class="chapter" data-level="3.2" data-path="data-objects.html"><a href="data-objects.html#subsec:date-time"><i class="fa fa-check"></i><b>3.2</b> 日期</a></li>
<li class="chapter" data-level="3.3" data-path="data-objects.html"><a href="data-objects.html#subsec:null"><i class="fa fa-check"></i><b>3.3</b> 空值</a></li>
<li class="chapter" data-level="3.4" data-path="data-objects.html"><a href="data-objects.html#subsec:character"><i class="fa fa-check"></i><b>3.4</b> 字符串</a></li>
<li class="chapter" data-level="3.5" data-path="data-objects.html"><a href="data-objects.html#subsec:expression"><i class="fa fa-check"></i><b>3.5</b> 表达式</a></li>
<li class="chapter" data-level="3.6" data-path="data-objects.html"><a href="data-objects.html#oop-matrix"><i class="fa fa-check"></i><b>3.6</b> 矩阵</a></li>
<li class="chapter" data-level="3.7" data-path="data-objects.html"><a href="data-objects.html#oop-array"><i class="fa fa-check"></i><b>3.7</b> 数组</a></li>
<li class="chapter" data-level="3.8" data-path="data-objects.html"><a href="data-objects.html#oop-data.frame"><i class="fa fa-check"></i><b>3.8</b> 数据框</a></li>
<li class="chapter" data-level="3.9" data-path="data-objects.html"><a href="data-objects.html#oop-table"><i class="fa fa-check"></i><b>3.9</b> 表格</a></li>
<li class="chapter" data-level="3.10" data-path="data-objects.html"><a href="data-objects.html#oop-list"><i class="fa fa-check"></i><b>3.10</b> 列表</a></li>
<li class="chapter" data-level="3.11" data-path="data-objects.html"><a href="data-objects.html#oop-ts"><i class="fa fa-check"></i><b>3.11</b> 时间序列</a></li>
<li class="chapter" data-level="3.12" data-path="data-objects.html"><a href="data-objects.html#oop-sf"><i class="fa fa-check"></i><b>3.12</b> 空间数据</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-import.html"><a href="data-import.html"><i class="fa fa-check"></i><b>4</b> 数据搬运工</a><ul>
<li class="chapter" data-level="4.1" data-path="data-import.html"><a href="data-import.html#import-data"><i class="fa fa-check"></i><b>4.1</b> 导入数据</a><ul>
<li class="chapter" data-level="4.1.1" data-path="data-import.html"><a href="data-import.html#scan-file"><i class="fa fa-check"></i><b>4.1.1</b> <code>scan</code></a></li>
<li class="chapter" data-level="4.1.2" data-path="data-import.html"><a href="data-import.html#read-write-table"><i class="fa fa-check"></i><b>4.1.2</b> <code>read.table</code></a></li>
<li class="chapter" data-level="4.1.3" data-path="data-import.html"><a href="data-import.html#read-write-lines"><i class="fa fa-check"></i><b>4.1.3</b> <code>readLines</code></a></li>
<li class="chapter" data-level="4.1.4" data-path="data-import.html"><a href="data-import.html#read-save-rds"><i class="fa fa-check"></i><b>4.1.4</b> <code>readRDS</code></a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="data-import.html"><a href="data-import.html#other-data-source"><i class="fa fa-check"></i><b>4.2</b> 其它数据格式</a></li>
<li class="chapter" data-level="4.3" data-path="data-import.html"><a href="data-import.html#import-large-dataset"><i class="fa fa-check"></i><b>4.3</b> 导入大数据集</a></li>
<li class="chapter" data-level="4.4" data-path="data-import.html"><a href="data-import.html#import-data-from-database"><i class="fa fa-check"></i><b>4.4</b> 从数据库导入</a><ul>
<li class="chapter" data-level="4.4.1" data-path="data-import.html"><a href="data-import.html#postgresql"><i class="fa fa-check"></i><b>4.4.1</b> PostgreSQL</a></li>
<li class="chapter" data-level="4.4.2" data-path="data-import.html"><a href="data-import.html#mysql"><i class="fa fa-check"></i><b>4.4.2</b> MySQL</a></li>
<li class="chapter" data-level="4.4.3" data-path="data-import.html"><a href="data-import.html#spark"><i class="fa fa-check"></i><b>4.4.3</b> Spark</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="data-import.html"><a href="data-import.html#batch-import-data"><i class="fa fa-check"></i><b>4.5</b> 批量导入数据</a></li>
<li class="chapter" data-level="4.6" data-path="data-import.html"><a href="data-import.html#batch-export-data"><i class="fa fa-check"></i><b>4.6</b> 批量导出数据</a></li>
<li class="chapter" data-level="4.7" data-path="data-import.html"><a href="data-import.html#export-data"><i class="fa fa-check"></i><b>4.7</b> 导出数据</a><ul>
<li class="chapter" data-level="4.7.1" data-path="data-import.html"><a href="data-import.html#export-output"><i class="fa fa-check"></i><b>4.7.1</b> 导出运行结果</a></li>
<li class="chapter" data-level="4.7.2" data-path="data-import.html"><a href="data-import.html#export-data-object"><i class="fa fa-check"></i><b>4.7.2</b> 导出数据对象</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="data-import.html"><a href="data-import.html#dm-session-info"><i class="fa fa-check"></i><b>4.8</b> 运行环境</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-frame.html"><a href="data-frame.html"><i class="fa fa-check"></i><b>5</b> 数据操作手</a><ul>
<li class="chapter" data-level="5.1" data-path="data-frame.html"><a href="data-frame.html#show"><i class="fa fa-check"></i><b>5.1</b> 查看数据</a></li>
<li class="chapter" data-level="5.2" data-path="data-frame.html"><a href="data-frame.html#base-reshape"><i class="fa fa-check"></i><b>5.2</b> 数据变形</a></li>
<li class="chapter" data-level="5.3" data-path="data-frame.html"><a href="data-frame.html#base-transform"><i class="fa fa-check"></i><b>5.3</b> 数据转换</a></li>
<li class="chapter" data-level="5.4" data-path="data-frame.html"><a href="data-frame.html#base-subset"><i class="fa fa-check"></i><b>5.4</b> 提取子集</a></li>
<li class="chapter" data-level="5.5" data-path="data-frame.html"><a href="data-frame.html#base-order"><i class="fa fa-check"></i><b>5.5</b> 按列排序</a></li>
<li class="chapter" data-level="5.6" data-path="data-frame.html"><a href="data-frame.html#base-split"><i class="fa fa-check"></i><b>5.6</b> 数据拆分</a></li>
<li class="chapter" data-level="5.7" data-path="data-frame.html"><a href="data-frame.html#base-merge"><i class="fa fa-check"></i><b>5.7</b> 数据合并</a></li>
<li class="chapter" data-level="5.8" data-path="data-frame.html"><a href="data-frame.html#base-duplicated"><i class="fa fa-check"></i><b>5.8</b> 数据去重</a></li>
<li class="chapter" data-level="5.9" data-path="data-frame.html"><a href="data-frame.html#base-missing"><i class="fa fa-check"></i><b>5.9</b> 数据缺失</a></li>
<li class="chapter" data-level="5.10" data-path="data-frame.html"><a href="data-frame.html#base-aggregate"><i class="fa fa-check"></i><b>5.10</b> 数据聚合</a></li>
<li class="chapter" data-level="5.11" data-path="data-frame.html"><a href="data-frame.html#base-table"><i class="fa fa-check"></i><b>5.11</b> 表格统计</a></li>
<li class="chapter" data-level="5.12" data-path="data-frame.html"><a href="data-frame.html#base-index"><i class="fa fa-check"></i><b>5.12</b> 索引访问</a></li>
<li class="chapter" data-level="5.13" data-path="data-frame.html"><a href="data-frame.html#base-array"><i class="fa fa-check"></i><b>5.13</b> 多维数组</a></li>
<li class="chapter" data-level="5.14" data-path="data-frame.html"><a href="data-frame.html#base-others"><i class="fa fa-check"></i><b>5.14</b> 其它操作</a><ul>
<li class="chapter" data-level="5.14.1" data-path="data-frame.html"><a href="data-frame.html#relist-or-unlist"><i class="fa fa-check"></i><b>5.14.1</b> 列表属性</a></li>
<li class="chapter" data-level="5.14.2" data-path="data-frame.html"><a href="data-frame.html#stack-or-unstack"><i class="fa fa-check"></i><b>5.14.2</b> 堆叠向量</a></li>
<li class="chapter" data-level="5.14.3" data-path="data-frame.html"><a href="data-frame.html#class-or-unclass"><i class="fa fa-check"></i><b>5.14.3</b> 属性转化</a></li>
<li class="chapter" data-level="5.14.4" data-path="data-frame.html"><a href="data-frame.html#attach-or-detach"><i class="fa fa-check"></i><b>5.14.4</b> 绑定环境</a></li>
<li class="chapter" data-level="5.14.5" data-path="data-frame.html"><a href="data-frame.html#with-or-within"><i class="fa fa-check"></i><b>5.14.5</b> 数据环境</a></li>
</ul></li>
<li class="chapter" data-level="5.15" data-path="data-frame.html"><a href="data-frame.html#dm-base-session-info"><i class="fa fa-check"></i><b>5.15</b> 运行环境</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="data-tibble.html"><a href="data-tibble.html"><i class="fa fa-check"></i><b>6</b> 净土化操作</a><ul>
<li class="chapter" data-level="6.1" data-path="data-tibble.html"><a href="data-tibble.html#common-operations"><i class="fa fa-check"></i><b>6.1</b> 常用操作</a><ul>
<li class="chapter" data-level="6.1.1" data-path="data-tibble.html"><a href="data-tibble.html#tibble-show"><i class="fa fa-check"></i><b>6.1.1</b> 查看</a></li>
<li class="chapter" data-level="6.1.2" data-path="data-tibble.html"><a href="data-tibble.html#dplyr-filter"><i class="fa fa-check"></i><b>6.1.2</b> 筛选</a></li>
<li class="chapter" data-level="6.1.3" data-path="data-tibble.html"><a href="data-tibble.html#dplyr-arrange"><i class="fa fa-check"></i><b>6.1.3</b> 排序</a></li>
<li class="chapter" data-level="6.1.4" data-path="data-tibble.html"><a href="data-tibble.html#dplyr-summarise"><i class="fa fa-check"></i><b>6.1.4</b> 聚合</a></li>
<li class="chapter" data-level="6.1.5" data-path="data-tibble.html"><a href="data-tibble.html#dplyr-merge"><i class="fa fa-check"></i><b>6.1.5</b> 合并</a></li>
<li class="chapter" data-level="6.1.6" data-path="data-tibble.html"><a href="data-tibble.html#dplyr-mutate"><i class="fa fa-check"></i><b>6.1.6</b> 变换</a></li>
<li class="chapter" data-level="6.1.7" data-path="data-tibble.html"><a href="data-tibble.html#dplyr-duplicated"><i class="fa fa-check"></i><b>6.1.7</b> 去重</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="data-tibble.html"><a href="data-tibble.html#common-dataframe-operations"><i class="fa fa-check"></i><b>6.2</b> 高频问题</a><ul>
<li class="chapter" data-level="6.2.1" data-path="data-tibble.html"><a href="data-tibble.html#create-empty-dataframe"><i class="fa fa-check"></i><b>6.2.1</b> 初始化数据框</a></li>
<li class="chapter" data-level="6.2.2" data-path="data-tibble.html"><a href="data-tibble.html#remove-missing-values"><i class="fa fa-check"></i><b>6.2.2</b> 移除缺失记录</a></li>
<li class="chapter" data-level="6.2.3" data-path="data-tibble.html"><a href="data-tibble.html#coerce-data-type"><i class="fa fa-check"></i><b>6.2.3</b> 数据类型转化</a></li>
<li class="chapter" data-level="6.2.4" data-path="data-tibble.html"><a href="data-tibble.html#cross-group-by"><i class="fa fa-check"></i><b>6.2.4</b> 跨列分组求和</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="data-tibble.html"><a href="data-tibble.html#pipe-manipulation"><i class="fa fa-check"></i><b>6.3</b> 管道操作</a></li>
<li class="chapter" data-level="6.4" data-path="data-tibble.html"><a href="data-tibble.html#dm-dplyr-rsession"><i class="fa fa-check"></i><b>6.4</b> 运行环境</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="data-table.html"><a href="data-table.html"><i class="fa fa-check"></i><b>7</b> 高级数据操作</a><ul>
<li class="chapter" data-level="7.1" data-path="data-table.html"><a href="data-table.html#基础介绍"><i class="fa fa-check"></i><b>7.1</b> 基础介绍</a><ul>
<li class="chapter" data-level="7.1.1" data-path="data-table.html"><a href="data-table.html#subsec:select-j"><i class="fa fa-check"></i><b>7.1.1</b> 选择</a></li>
<li class="chapter" data-level="7.1.2" data-path="data-table.html"><a href="data-table.html#subsec:filter-i"><i class="fa fa-check"></i><b>7.1.2</b> 过滤</a></li>
<li class="chapter" data-level="7.1.3" data-path="data-table.html"><a href="data-table.html#subsec:mutate-j"><i class="fa fa-check"></i><b>7.1.3</b> 变换</a></li>
<li class="chapter" data-level="7.1.4" data-path="data-table.html"><a href="data-table.html#subsec:summarise-j"><i class="fa fa-check"></i><b>7.1.4</b> 聚合</a></li>
<li class="chapter" data-level="7.1.5" data-path="data-table.html"><a href="data-table.html#subsec:duplicated-i"><i class="fa fa-check"></i><b>7.1.5</b> 去重</a></li>
<li class="chapter" data-level="7.1.6" data-path="data-table.html"><a href="data-table.html#subsec:setname"><i class="fa fa-check"></i><b>7.1.6</b> 命名</a></li>
<li class="chapter" data-level="7.1.7" data-path="data-table.html"><a href="data-table.html#subsec:order-by-j"><i class="fa fa-check"></i><b>7.1.7</b> 排序</a></li>
<li class="chapter" data-level="7.1.8" data-path="data-table.html"><a href="data-table.html#subsec:reshape"><i class="fa fa-check"></i><b>7.1.8</b> 变形</a></li>
<li class="chapter" data-level="7.1.9" data-path="data-table.html"><a href="data-table.html#subsec:group-by"><i class="fa fa-check"></i><b>7.1.9</b> 分组</a></li>
<li class="chapter" data-level="7.1.10" data-path="data-table.html"><a href="data-table.html#subsec:merge"><i class="fa fa-check"></i><b>7.1.10</b> 合并</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="data-table.html"><a href="data-table.html#chap:data-manipulation"><i class="fa fa-check"></i><b>7.2</b> 高频操作</a><ul>
<li class="chapter" data-level="7.2.1" data-path="data-table.html"><a href="data-table.html#sec:select"><i class="fa fa-check"></i><b>7.2.1</b> 选择多列</a></li>
<li class="chapter" data-level="7.2.2" data-path="data-table.html"><a href="data-table.html#sec:filter"><i class="fa fa-check"></i><b>7.2.2</b> 过滤多行</a></li>
<li class="chapter" data-level="7.2.3" data-path="data-table.html"><a href="data-table.html#sec:duplicated"><i class="fa fa-check"></i><b>7.2.3</b> 去重多行</a></li>
<li class="chapter" data-level="7.2.4" data-path="data-table.html"><a href="data-table.html#sec:merge"><i class="fa fa-check"></i><b>7.2.4</b> 合并操作</a></li>
<li class="chapter" data-level="7.2.5" data-path="data-table.html"><a href="data-table.html#sec:add-columns"><i class="fa fa-check"></i><b>7.2.5</b> 新添多列</a></li>
<li class="chapter" data-level="7.2.6" data-path="data-table.html"><a href="data-table.html#sec:delete-columns"><i class="fa fa-check"></i><b>7.2.6</b> 删除多列</a></li>
<li class="chapter" data-level="7.2.7" data-path="data-table.html"><a href="data-table.html#sec:modify-columns-type"><i class="fa fa-check"></i><b>7.2.7</b> 修改多列类型</a></li>
<li class="chapter" data-level="7.2.8" data-path="data-table.html"><a href="data-table.html#sec:select-first-row"><i class="fa fa-check"></i><b>7.2.8</b> 取每组第一行</a></li>
<li class="chapter" data-level="7.2.9" data-path="data-table.html"><a href="data-table.html#subsec:mom-vs-yoy"><i class="fa fa-check"></i><b>7.2.9</b> 计算环比同比</a></li>
<li class="chapter" data-level="7.2.10" data-path="data-table.html"><a href="data-table.html#sec:merge-multi-dfs"><i class="fa fa-check"></i><b>7.2.10</b> 合并多个数据框</a></li>
<li class="chapter" data-level="7.2.11" data-path="data-table.html"><a href="data-table.html#sec:multiple-aggregations"><i class="fa fa-check"></i><b>7.2.11</b> 分组聚合多个指标</a></li>
<li class="chapter" data-level="7.2.12" data-path="data-table.html"><a href="data-table.html#sec:rename-multi-cols"><i class="fa fa-check"></i><b>7.2.12</b> 重命名多个列</a></li>
<li class="chapter" data-level="7.2.13" data-path="data-table.html"><a href="data-table.html#sec:sort-multi-cols"><i class="fa fa-check"></i><b>7.2.13</b> 对多个列依次排序</a></li>
<li class="chapter" data-level="7.2.14" data-path="data-table.html"><a href="data-table.html#sec:rearrange-position-multi-cols"><i class="fa fa-check"></i><b>7.2.14</b> 重排多个列的位置</a></li>
<li class="chapter" data-level="7.2.15" data-path="data-table.html"><a href="data-table.html#sec:tidy-output"><i class="fa fa-check"></i><b>7.2.15</b> 整理回归结果</a></li>
<li class="chapter" data-level="7.2.16" data-path="data-table.html"><a href="data-table.html#sec:assignment-by-reference"><i class="fa fa-check"></i><b>7.2.16</b> <code>:=</code> 和 <code>.()</code></a></li>
<li class="chapter" data-level="7.2.17" data-path="data-table.html"><a href="data-table.html#sec:remove-na"><i class="fa fa-check"></i><b>7.2.17</b> 去掉含有缺失值的记录</a></li>
<li class="chapter" data-level="7.2.18" data-path="data-table.html"><a href="data-table.html#sec:match-set"><i class="fa fa-check"></i><b>7.2.18</b> 集合操作</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="data-table.html"><a href="data-table.html#sec:data-manipulation-session-info"><i class="fa fa-check"></i><b>7.3</b> 运行环境</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="data-parallel.html"><a href="data-parallel.html"><i class="fa fa-check"></i><b>8</b> 并行化操作</a><ul>
<li class="chapter" data-level="8.1" data-path="data-parallel.html"><a href="data-parallel.html#apply"><i class="fa fa-check"></i><b>8.1</b> apply</a></li>
<li class="chapter" data-level="8.2" data-path="data-parallel.html"><a href="data-parallel.html#map-reduce"><i class="fa fa-check"></i><b>8.2</b> MapReduce</a></li>
<li class="chapter" data-level="8.3" data-path="data-parallel.html"><a href="data-parallel.html#parallel"><i class="fa fa-check"></i><b>8.3</b> parallel</a></li>
<li class="chapter" data-level="8.4" data-path="data-parallel.html"><a href="data-parallel.html#rmpi"><i class="fa fa-check"></i><b>8.4</b> Rmpi</a></li>
<li class="chapter" data-level="8.5" data-path="data-parallel.html"><a href="data-parallel.html#gpur"><i class="fa fa-check"></i><b>8.5</b> gpuR</a></li>
<li class="chapter" data-level="8.6" data-path="data-parallel.html"><a href="data-parallel.html#dm-parallel-session-info"><i class="fa fa-check"></i><b>8.6</b> 本章运行环境</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="dc-string-manipulation.html"><a href="dc-string-manipulation.html"><i class="fa fa-check"></i><b>9</b> 字符串操作</a><ul>
<li class="chapter" data-level="9.1" data-path="dc-string-manipulation.html"><a href="dc-string-manipulation.html#base-count"><i class="fa fa-check"></i><b>9.1</b> 字符数统计</a></li>
<li class="chapter" data-level="9.2" data-path="dc-string-manipulation.html"><a href="dc-string-manipulation.html#base-translations"><i class="fa fa-check"></i><b>9.2</b> 字符串翻译</a></li>
<li class="chapter" data-level="9.3" data-path="dc-string-manipulation.html"><a href="dc-string-manipulation.html#base-concatenate"><i class="fa fa-check"></i><b>9.3</b> 字符串连接</a></li>
<li class="chapter" data-level="9.4" data-path="dc-string-manipulation.html"><a href="dc-string-manipulation.html#base-strsplit"><i class="fa fa-check"></i><b>9.4</b> 字符串拆分</a></li>
<li class="chapter" data-level="9.5" data-path="dc-string-manipulation.html"><a href="dc-string-manipulation.html#base-match"><i class="fa fa-check"></i><b>9.5</b> 字符串匹配</a></li>
<li class="chapter" data-level="9.6" data-path="dc-string-manipulation.html"><a href="dc-string-manipulation.html#base-search"><i class="fa fa-check"></i><b>9.6</b> 字符串查询</a></li>
<li class="chapter" data-level="9.7" data-path="dc-string-manipulation.html"><a href="dc-string-manipulation.html#base-replacement"><i class="fa fa-check"></i><b>9.7</b> 字符串替换</a></li>
<li class="chapter" data-level="9.8" data-path="dc-string-manipulation.html"><a href="dc-string-manipulation.html#base-extract"><i class="fa fa-check"></i><b>9.8</b> 字符串提取</a></li>
<li class="chapter" data-level="9.9" data-path="dc-string-manipulation.html"><a href="dc-string-manipulation.html#subsubsec:named-capture"><i class="fa fa-check"></i><b>9.9</b> 命名捕捉</a></li>
<li class="chapter" data-level="9.10" data-path="dc-string-manipulation.html"><a href="dc-string-manipulation.html#subsubsec:exact-match"><i class="fa fa-check"></i><b>9.10</b> 精确匹配</a></li>
<li class="chapter" data-level="9.11" data-path="dc-string-manipulation.html"><a href="dc-string-manipulation.html#subsubsec:fuzzy-match"><i class="fa fa-check"></i><b>9.11</b> 模糊匹配</a></li>
<li class="chapter" data-level="9.12" data-path="dc-string-manipulation.html"><a href="dc-string-manipulation.html#subsubsec:replace"><i class="fa fa-check"></i><b>9.12</b> 高级的替换</a></li>
<li class="chapter" data-level="9.13" data-path="dc-string-manipulation.html"><a href="dc-string-manipulation.html#subsubsec:extract"><i class="fa fa-check"></i><b>9.13</b> 高级的提取</a></li>
<li class="chapter" data-level="9.14" data-path="dc-string-manipulation.html"><a href="dc-string-manipulation.html#other-string-op"><i class="fa fa-check"></i><b>9.14</b> 其它操作</a><ul>
<li class="chapter" data-level="9.14.1" data-path="dc-string-manipulation.html"><a href="dc-string-manipulation.html#strwrap"><i class="fa fa-check"></i><b>9.14.1</b> strwrap</a></li>
<li class="chapter" data-level="9.14.2" data-path="dc-string-manipulation.html"><a href="dc-string-manipulation.html#strtrim"><i class="fa fa-check"></i><b>9.14.2</b> strtrim</a></li>
<li class="chapter" data-level="9.14.3" data-path="dc-string-manipulation.html"><a href="dc-string-manipulation.html#strrep"><i class="fa fa-check"></i><b>9.14.3</b> strrep</a></li>
<li class="chapter" data-level="9.14.4" data-path="dc-string-manipulation.html"><a href="dc-string-manipulation.html#trimws"><i class="fa fa-check"></i><b>9.14.4</b> trimws</a></li>
</ul></li>
<li class="chapter" data-level="9.15" data-path="dc-string-manipulation.html"><a href="dc-string-manipulation.html#string-session-info"><i class="fa fa-check"></i><b>9.15</b> 运行环境</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="dc-regular-expressions.html"><a href="dc-regular-expressions.html"><i class="fa fa-check"></i><b>10</b> 正则表达式</a><ul>
<li class="chapter" data-level="10.1" data-path="dc-regular-expressions.html"><a href="dc-regular-expressions.html#character-constants"><i class="fa fa-check"></i><b>10.1</b> 字符常量</a></li>
<li class="chapter" data-level="10.2" data-path="dc-regular-expressions.html"><a href="dc-regular-expressions.html#environments"><i class="fa fa-check"></i><b>10.2</b> 软件环境</a></li>
<li class="chapter" data-level="10.3" data-path="dc-regular-expressions.html"><a href="dc-regular-expressions.html#foundations"><i class="fa fa-check"></i><b>10.3</b> 基本概念</a></li>
<li class="chapter" data-level="10.4" data-path="dc-regular-expressions.html"><a href="dc-regular-expressions.html#match"><i class="fa fa-check"></i><b>10.4</b> 字符串匹配</a></li>
<li class="chapter" data-level="10.5" data-path="dc-regular-expressions.html"><a href="dc-regular-expressions.html#concatenation"><i class="fa fa-check"></i><b>10.5</b> 级联表达式</a></li>
<li class="chapter" data-level="10.6" data-path="dc-regular-expressions.html"><a href="dc-regular-expressions.html#backreference"><i class="fa fa-check"></i><b>10.6</b> 反向引用</a></li>
<li class="chapter" data-level="10.7" data-path="dc-regular-expressions.html"><a href="dc-regular-expressions.html#named-capture"><i class="fa fa-check"></i><b>10.7</b> 命名捕捉</a></li>
<li class="chapter" data-level="10.8" data-path="dc-regular-expressions.html"><a href="dc-regular-expressions.html#comment"><i class="fa fa-check"></i><b>10.8</b> 表达式注释</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="dv-plot.html"><a href="dv-plot.html"><i class="fa fa-check"></i><b>11</b> 绘图素材库</a><ul>
<li class="chapter" data-level="11.1" data-path="dv-plot.html"><a href="dv-plot.html#elements"><i class="fa fa-check"></i><b>11.1</b> 基本要素</a><ul>
<li class="chapter" data-level="11.1.1" data-path="dv-plot.html"><a href="dv-plot.html#base-points"><i class="fa fa-check"></i><b>11.1.1</b> 点线</a></li>
<li class="chapter" data-level="11.1.2" data-path="dv-plot.html"><a href="dv-plot.html#base-rect"><i class="fa fa-check"></i><b>11.1.2</b> 区域</a></li>
<li class="chapter" data-level="11.1.3" data-path="dv-plot.html"><a href="dv-plot.html#base-lines"><i class="fa fa-check"></i><b>11.1.3</b> 参考线</a></li>
<li class="chapter" data-level="11.1.4" data-path="dv-plot.html"><a href="dv-plot.html#base-axis"><i class="fa fa-check"></i><b>11.1.4</b> 坐标轴</a></li>
<li class="chapter" data-level="11.1.5" data-path="dv-plot.html"><a href="dv-plot.html#base-tick"><i class="fa fa-check"></i><b>11.1.5</b> 刻度线</a></li>
<li class="chapter" data-level="11.1.6" data-path="dv-plot.html"><a href="dv-plot.html#base-title"><i class="fa fa-check"></i><b>11.1.6</b> 标题</a></li>
<li class="chapter" data-level="11.1.7" data-path="dv-plot.html"><a href="dv-plot.html#base-annotation"><i class="fa fa-check"></i><b>11.1.7</b> 注释</a></li>
<li class="chapter" data-level="11.1.8" data-path="dv-plot.html"><a href="dv-plot.html#base-legend"><i class="fa fa-check"></i><b>11.1.8</b> 图例</a></li>
<li class="chapter" data-level="11.1.9" data-path="dv-plot.html"><a href="dv-plot.html#base-par"><i class="fa fa-check"></i><b>11.1.9</b> 边空</a></li>
<li class="chapter" data-level="11.1.10" data-path="dv-plot.html"><a href="dv-plot.html#base-layer"><i class="fa fa-check"></i><b>11.1.10</b> 图层</a></li>
<li class="chapter" data-level="11.1.11" data-path="dv-plot.html"><a href="dv-plot.html#base-layout"><i class="fa fa-check"></i><b>11.1.11</b> 布局</a></li>
<li class="chapter" data-level="11.1.12" data-path="dv-plot.html"><a href="dv-plot.html#base-combine"><i class="fa fa-check"></i><b>11.1.12</b> 组合</a></li>
<li class="chapter" data-level="11.1.13" data-path="dv-plot.html"><a href="dv-plot.html#base-screen"><i class="fa fa-check"></i><b>11.1.13</b> 分屏</a></li>
<li class="chapter" data-level="11.1.14" data-path="dv-plot.html"><a href="dv-plot.html#identify-locator"><i class="fa fa-check"></i><b>11.1.14</b> 交互</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="dv-plot.html"><a href="dv-plot.html#plot-gallary"><i class="fa fa-check"></i><b>11.2</b> 统计图形</a><ul>
<li class="chapter" data-level="11.2.1" data-path="dv-plot.html"><a href="dv-plot.html#plot-bar"><i class="fa fa-check"></i><b>11.2.1</b> 条形图</a></li>
<li class="chapter" data-level="11.2.2" data-path="dv-plot.html"><a href="dv-plot.html#plot-hist"><i class="fa fa-check"></i><b>11.2.2</b> 直方图</a></li>
<li class="chapter" data-level="11.2.3" data-path="dv-plot.html"><a href="dv-plot.html#plot-density"><i class="fa fa-check"></i><b>11.2.3</b> 密度图</a></li>
<li class="chapter" data-level="11.2.4" data-path="dv-plot.html"><a href="dv-plot.html#plot-ecdf"><i class="fa fa-check"></i><b>11.2.4</b> 经验图</a></li>
<li class="chapter" data-level="11.2.5" data-path="dv-plot.html"><a href="dv-plot.html#plot-qqnorm"><i class="fa fa-check"></i><b>11.2.5</b> QQ 图</a></li>
<li class="chapter" data-level="11.2.6" data-path="dv-plot.html"><a href="dv-plot.html#plot-ts"><i class="fa fa-check"></i><b>11.2.6</b> 时序图</a></li>
<li class="chapter" data-level="11.2.7" data-path="dv-plot.html"><a href="dv-plot.html#plot-pie"><i class="fa fa-check"></i><b>11.2.7</b> 饼图</a></li>
<li class="chapter" data-level="11.2.8" data-path="dv-plot.html"><a href="dv-plot.html#plot-stem-leaf"><i class="fa fa-check"></i><b>11.2.8</b> 茎叶图</a></li>
<li class="chapter" data-level="11.2.9" data-path="dv-plot.html"><a href="dv-plot.html#plot-scatter"><i class="fa fa-check"></i><b>11.2.9</b> 散点图</a></li>
<li class="chapter" data-level="11.2.10" data-path="dv-plot.html"><a href="dv-plot.html#base-jitter"><i class="fa fa-check"></i><b>11.2.10</b> 抖动图</a></li>
<li class="chapter" data-level="11.2.11" data-path="dv-plot.html"><a href="dv-plot.html#plot-box"><i class="fa fa-check"></i><b>11.2.11</b> 箱线图</a></li>
<li class="chapter" data-level="11.2.12" data-path="dv-plot.html"><a href="dv-plot.html#error-bars"><i class="fa fa-check"></i><b>11.2.12</b> 残差图</a></li>
<li class="chapter" data-level="11.2.13" data-path="dv-plot.html"><a href="dv-plot.html#plot-violin"><i class="fa fa-check"></i><b>11.2.13</b> 提琴图</a></li>
<li class="chapter" data-level="11.2.14" data-path="dv-plot.html"><a href="dv-plot.html#plot-contour"><i class="fa fa-check"></i><b>11.2.14</b> 轮廓图</a></li>
<li class="chapter" data-level="11.2.15" data-path="dv-plot.html"><a href="dv-plot.html#plot-line"><i class="fa fa-check"></i><b>11.2.15</b> 折线图</a></li>
<li class="chapter" data-level="11.2.16" data-path="dv-plot.html"><a href="dv-plot.html#function"><i class="fa fa-check"></i><b>11.2.16</b> 函数图</a></li>
<li class="chapter" data-level="11.2.17" data-path="dv-plot.html"><a href="dv-plot.html#plot-mosaic"><i class="fa fa-check"></i><b>11.2.17</b> 马赛克图</a></li>
<li class="chapter" data-level="11.2.18" data-path="dv-plot.html"><a href="dv-plot.html#plot-dotchart"><i class="fa fa-check"></i><b>11.2.18</b> 克利夫兰点图</a></li>
<li class="chapter" data-level="11.2.19" data-path="dv-plot.html"><a href="dv-plot.html#plot-matrix"><i class="fa fa-check"></i><b>11.2.19</b> 矩阵图</a></li>
<li class="chapter" data-level="11.2.20" data-path="dv-plot.html"><a href="dv-plot.html#plot-radar"><i class="fa fa-check"></i><b>11.2.20</b> 雷达图</a></li>
<li class="chapter" data-level="11.2.21" data-path="dv-plot.html"><a href="dv-plot.html#plot-rose"><i class="fa fa-check"></i><b>11.2.21</b> 玫瑰图</a></li>
<li class="chapter" data-level="11.2.22" data-path="dv-plot.html"><a href="dv-plot.html#plot-map"><i class="fa fa-check"></i><b>11.2.22</b> 地形图</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="dv-plot.html"><a href="dv-plot.html#plot-session-info"><i class="fa fa-check"></i><b>11.3</b> 运行环境</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="dv-ggplot2.html"><a href="dv-ggplot2.html"><i class="fa fa-check"></i><b>12</b> 数据可视化</a><ul>
<li class="chapter" data-level="12.1" data-path="dv-ggplot2.html"><a href="dv-ggplot2.html#intro-ggplot2"><i class="fa fa-check"></i><b>12.1</b> 基础语法</a><ul>
<li class="chapter" data-level="12.1.1" data-path="dv-ggplot2.html"><a href="dv-ggplot2.html#ggplot2-layer"><i class="fa fa-check"></i><b>12.1.1</b> 图层</a></li>
<li class="chapter" data-level="12.1.2" data-path="dv-ggplot2.html"><a href="dv-ggplot2.html#ggplot2-theme"><i class="fa fa-check"></i><b>12.1.2</b> 主题</a></li>
<li class="chapter" data-level="12.1.3" data-path="dv-ggplot2.html"><a href="dv-ggplot2.html#ggplot2-color"><i class="fa fa-check"></i><b>12.1.3</b> 配色</a></li>
<li class="chapter" data-level="12.1.4" data-path="dv-ggplot2.html"><a href="dv-ggplot2.html#ggplot2-scale"><i class="fa fa-check"></i><b>12.1.4</b> 刻度</a></li>
<li class="chapter" data-level="12.1.5" data-path="dv-ggplot2.html"><a href="dv-ggplot2.html#ggplot2-annotate"><i class="fa fa-check"></i><b>12.1.5</b> 注释</a></li>
<li class="chapter" data-level="12.1.6" data-path="dv-ggplot2.html"><a href="dv-ggplot2.html#ggplot2-legend"><i class="fa fa-check"></i><b>12.1.6</b> 图例</a></li>
<li class="chapter" data-level="12.1.7" data-path="dv-ggplot2.html"><a href="dv-ggplot2.html#ggplot2-grid"><i class="fa fa-check"></i><b>12.1.7</b> 组合</a></li>
<li class="chapter" data-level="12.1.8" data-path="dv-ggplot2.html"><a href="dv-ggplot2.html#ggplot2-coord"><i class="fa fa-check"></i><b>12.1.8</b> 坐标系</a></li>
<li class="chapter" data-level="12.1.9" data-path="dv-ggplot2.html"><a href="dv-ggplot2.html#ggplot2-axes"><i class="fa fa-check"></i><b>12.1.9</b> 坐标轴</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="dv-ggplot2.html"><a href="dv-ggplot2.html#ggplot2-gallary"><i class="fa fa-check"></i><b>12.2</b> 统计图形</a><ul>
<li class="chapter" data-level="12.2.1" data-path="dv-ggplot2.html"><a href="dv-ggplot2.html#ggplot2-scatter"><i class="fa fa-check"></i><b>12.2.1</b> 散点图</a></li>
<li class="chapter" data-level="12.2.2" data-path="dv-ggplot2.html"><a href="dv-ggplot2.html#ggplot2-boxplot"><i class="fa fa-check"></i><b>12.2.2</b> 箱线图</a></li>
<li class="chapter" data-level="12.2.3" data-path="dv-ggplot2.html"><a href="dv-ggplot2.html#ggplot2-barplot"><i class="fa fa-check"></i><b>12.2.3</b> 条形图</a></li>
<li class="chapter" data-level="12.2.4" data-path="dv-ggplot2.html"><a href="dv-ggplot2.html#ggplot2-line"><i class="fa fa-check"></i><b>12.2.4</b> 折线图</a></li>
<li class="chapter" data-level="12.2.5" data-path="dv-ggplot2.html"><a href="dv-ggplot2.html#ggplot2-histogram"><i class="fa fa-check"></i><b>12.2.5</b> 直方图</a></li>
<li class="chapter" data-level="12.2.6" data-path="dv-ggplot2.html"><a href="dv-ggplot2.html#ggplot2-violin"><i class="fa fa-check"></i><b>12.2.6</b> 提琴图</a></li>
<li class="chapter" data-level="12.2.7" data-path="dv-ggplot2.html"><a href="dv-ggplot2.html#ggplot2-jitter"><i class="fa fa-check"></i><b>12.2.7</b> 抖动图</a></li>
<li class="chapter" data-level="12.2.8" data-path="dv-ggplot2.html"><a href="dv-ggplot2.html#ggplot2-ridge"><i class="fa fa-check"></i><b>12.2.8</b> 密度图</a></li>
<li class="chapter" data-level="12.2.9" data-path="dv-ggplot2.html"><a href="dv-ggplot2.html#ggplot2-rose"><i class="fa fa-check"></i><b>12.2.9</b> 玫瑰图</a></li>
<li class="chapter" data-level="12.2.10" data-path="dv-ggplot2.html"><a href="dv-ggplot2.html#ggplot2-wordcloud"><i class="fa fa-check"></i><b>12.2.10</b> 词云图</a></li>
<li class="chapter" data-level="12.2.11" data-path="dv-ggplot2.html"><a href="dv-ggplot2.html#calendar-map"><i class="fa fa-check"></i><b>12.2.11</b> 日历图</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="dv-ggplot2.html"><a href="dv-ggplot2.html#ggplot2-session-info"><i class="fa fa-check"></i><b>12.3</b> 运行环境</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="dv-plot3d.html"><a href="dv-plot3d.html"><i class="fa fa-check"></i><b>13</b> 三维可视化</a><ul>
<li class="chapter" data-level="13.1" data-path="dv-plot3d.html"><a href="dv-plot3d.html#pie-3d"><i class="fa fa-check"></i><b>13.1</b> 饼图</a></li>
<li class="chapter" data-level="13.2" data-path="dv-plot3d.html"><a href="dv-plot3d.html#bar-3d"><i class="fa fa-check"></i><b>13.2</b> 柱形图</a></li>
<li class="chapter" data-level="13.3" data-path="dv-plot3d.html"><a href="dv-plot3d.html#scatter-3d"><i class="fa fa-check"></i><b>13.3</b> 散点图</a></li>
<li class="chapter" data-level="13.4" data-path="dv-plot3d.html"><a href="dv-plot3d.html#curve-3d"><i class="fa fa-check"></i><b>13.4</b> 函数图</a></li>
<li class="chapter" data-level="13.5" data-path="dv-plot3d.html"><a href="dv-plot3d.html#persp-3d"><i class="fa fa-check"></i><b>13.5</b> 透视图</a></li>
<li class="chapter" data-level="13.6" data-path="dv-plot3d.html"><a href="dv-plot3d.html#tikz"><i class="fa fa-check"></i><b>13.6</b> TikZ 绘图</a></li>
<li class="chapter" data-level="13.7" data-path="dv-plot3d.html"><a href="dv-plot3d.html#export-save"><i class="fa fa-check"></i><b>13.7</b> 图形导出</a></li>
<li class="chapter" data-level="13.8" data-path="dv-plot3d.html"><a href="dv-plot3d.html#plot3d-sessionInfo"><i class="fa fa-check"></i><b>13.8</b> 软件信息</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="dv-colors-fonts.html"><a href="dv-colors-fonts.html"><i class="fa fa-check"></i><b>14</b> 色彩与字体</a><ul>
<li class="chapter" data-level="14.1" data-path="dv-colors-fonts.html"><a href="dv-colors-fonts.html#colors-in-r"><i class="fa fa-check"></i><b>14.1</b> 颜色</a></li>
<li class="chapter" data-level="14.2" data-path="dv-colors-fonts.html"><a href="dv-colors-fonts.html#choose-colors"><i class="fa fa-check"></i><b>14.2</b> 配色</a><ul>
<li class="chapter" data-level="14.2.1" data-path="dv-colors-fonts.html"><a href="dv-colors-fonts.html#colourlovers"><i class="fa fa-check"></i><b>14.2.1</b> colourlovers</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="dv-highcharter.html"><a href="dv-highcharter.html"><i class="fa fa-check"></i><b>15</b> highcharter 图形</a><ul>
<li class="chapter" data-level="15.1" data-path="dv-highcharter.html"><a href="dv-highcharter.html#subsec:hc-line"><i class="fa fa-check"></i><b>15.1</b> 折线图</a><ul>
<li class="chapter" data-level="15.1.1" data-path="dv-highcharter.html"><a href="dv-highcharter.html#subsubsec:simple-hc-line"><i class="fa fa-check"></i><b>15.1.1</b> 简单折线图</a></li>
<li class="chapter" data-level="15.1.2" data-path="dv-highcharter.html"><a href="dv-highcharter.html#subsubsec:group-hc-line"><i class="fa fa-check"></i><b>15.1.2</b> 分组折线图</a></li>
<li class="chapter" data-level="15.1.3" data-path="dv-highcharter.html"><a href="dv-highcharter.html#subsubsec:ts-hc-line"><i class="fa fa-check"></i><b>15.1.3</b> 时间序列图</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="dv-highcharter.html"><a href="dv-highcharter.html#subsec:hc-scatter"><i class="fa fa-check"></i><b>15.2</b> 散点图</a><ul>
<li class="chapter" data-level="15.2.1" data-path="dv-highcharter.html"><a href="dv-highcharter.html#subsubsec:simple-hc-scatter"><i class="fa fa-check"></i><b>15.2.1</b> 简单散点图</a></li>
<li class="chapter" data-level="15.2.2" data-path="dv-highcharter.html"><a href="dv-highcharter.html#subsubsec:group-hc-scatter"><i class="fa fa-check"></i><b>15.2.2</b> 分组散点图</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="dv-highcharter.html"><a href="dv-highcharter.html#subsec:hc-bar"><i class="fa fa-check"></i><b>15.3</b> 条形图</a><ul>
<li class="chapter" data-level="15.3.1" data-path="dv-highcharter.html"><a href="dv-highcharter.html#subsubsec:simple-hc-bar"><i class="fa fa-check"></i><b>15.3.1</b> 简单条形图</a></li>
<li class="chapter" data-level="15.3.2" data-path="dv-highcharter.html"><a href="dv-highcharter.html#subsubsec:dodge-hc-bar"><i class="fa fa-check"></i><b>15.3.2</b> 复合条形图</a></li>
<li class="chapter" data-level="15.3.3" data-path="dv-highcharter.html"><a href="dv-highcharter.html#subsubsec:stack-hc-bar"><i class="fa fa-check"></i><b>15.3.3</b> 堆积条形图</a></li>
<li class="chapter" data-level="15.3.4" data-path="dv-highcharter.html"><a href="dv-highcharter.html#subsubsec:fill-hc-bar"><i class="fa fa-check"></i><b>15.3.4</b> 百分比条形图</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="dv-highcharter.html"><a href="dv-highcharter.html#subsec:hc-boxplot"><i class="fa fa-check"></i><b>15.4</b> 箱线图</a><ul>
<li class="chapter" data-level="15.4.1" data-path="dv-highcharter.html"><a href="dv-highcharter.html#subsubsec:simple-hc-boxplot"><i class="fa fa-check"></i><b>15.4.1</b> 简单箱线图</a></li>
<li class="chapter" data-level="15.4.2" data-path="dv-highcharter.html"><a href="dv-highcharter.html#subssubsec:dodge-hc-boxplot"><i class="fa fa-check"></i><b>15.4.2</b> 复合箱线图</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="dv-highcharter.html"><a href="dv-highcharter.html#subsec:hc-density"><i class="fa fa-check"></i><b>15.5</b> 密度图</a></li>
<li class="chapter" data-level="15.6" data-path="dv-highcharter.html"><a href="dv-highcharter.html#subsec:hc-hist"><i class="fa fa-check"></i><b>15.6</b> 直方图</a></li>
<li class="chapter" data-level="15.7" data-path="dv-highcharter.html"><a href="dv-highcharter.html#subsec:hc-survival"><i class="fa fa-check"></i><b>15.7</b> 生存图</a></li>
<li class="chapter" data-level="15.8" data-path="dv-highcharter.html"><a href="dv-highcharter.html#subsec:hc-heatmap"><i class="fa fa-check"></i><b>15.8</b> 等高图</a></li>
<li class="chapter" data-level="15.9" data-path="dv-highcharter.html"><a href="dv-highcharter.html#subsec:hc-corrplot"><i class="fa fa-check"></i><b>15.9</b> 相关图</a></li>
<li class="chapter" data-level="15.10" data-path="dv-highcharter.html"><a href="dv-highcharter.html#subsec:hc-treemap"><i class="fa fa-check"></i><b>15.10</b> 矩阵图</a></li>
<li class="chapter" data-level="15.11" data-path="dv-highcharter.html"><a href="dv-highcharter.html#highcharter-map"><i class="fa fa-check"></i><b>15.11</b> 地图</a></li>
<li class="chapter" data-level="15.12" data-path="dv-highcharter.html"><a href="dv-highcharter.html#drilldown"><i class="fa fa-check"></i><b>15.12</b> 下钻图</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="dv-lattice.html"><a href="dv-lattice.html"><i class="fa fa-check"></i><b>16</b> Lattice 图形</a><ul>
<li class="chapter" data-level="16.1" data-path="dv-lattice.html"><a href="dv-lattice.html#sec:boxplot"><i class="fa fa-check"></i><b>16.1</b> 箱线图</a></li>
<li class="chapter" data-level="16.2" data-path="dv-lattice.html"><a href="dv-lattice.html#sec:line"><i class="fa fa-check"></i><b>16.2</b> 折线图</a></li>
<li class="chapter" data-level="16.3" data-path="dv-lattice.html"><a href="dv-lattice.html#sec:smooth"><i class="fa fa-check"></i><b>16.3</b> 平滑图</a></li>
<li class="chapter" data-level="16.4" data-path="dv-lattice.html"><a href="dv-lattice.html#sec:dotplot"><i class="fa fa-check"></i><b>16.4</b> 点图</a></li>
<li class="chapter" data-level="16.5" data-path="dv-lattice.html"><a href="dv-lattice.html#sec:step"><i class="fa fa-check"></i><b>16.5</b> 阶梯图</a></li>
<li class="chapter" data-level="16.6" data-path="dv-lattice.html"><a href="dv-lattice.html#sec:facet"><i class="fa fa-check"></i><b>16.6</b> 分面图</a></li>
<li class="chapter" data-level="16.7" data-path="dv-lattice.html"><a href="dv-lattice.html#sec:contour"><i class="fa fa-check"></i><b>16.7</b> 等高线图</a></li>
<li class="chapter" data-level="16.8" data-path="dv-lattice.html"><a href="dv-lattice.html#sub:map"><i class="fa fa-check"></i><b>16.8</b> 地图</a></li>
<li class="chapter" data-level="16.9" data-path="dv-lattice.html"><a href="dv-lattice.html#sub:cluster"><i class="fa fa-check"></i><b>16.9</b> 聚类图</a></li>
<li class="chapter" data-level="16.10" data-path="dv-lattice.html"><a href="dv-lattice.html#sec:lattice-sessioninfo"><i class="fa fa-check"></i><b>16.10</b> 运行环境</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="dv-network.html"><a href="dv-network.html"><i class="fa fa-check"></i><b>17</b> 网络数据</a></li>
<li class="chapter" data-level="18" data-path="dv-plotly.html"><a href="dv-plotly.html"><i class="fa fa-check"></i><b>18</b> plotly 图形</a><ul>
<li class="chapter" data-level="18.1" data-path="dv-plotly.html"><a href="dv-plotly.html#plotly-scatter"><i class="fa fa-check"></i><b>18.1</b> 散点图</a><ul>
<li class="chapter" data-level="18.1.1" data-path="dv-plotly.html"><a href="dv-plotly.html#一行代码绘图"><i class="fa fa-check"></i><b>18.1.1</b> 一行代码绘图</a></li>
<li class="chapter" data-level="18.1.2" data-path="dv-plotly.html"><a href="dv-plotly.html#分组散点图"><i class="fa fa-check"></i><b>18.1.2</b> 分组散点图</a></li>
<li class="chapter" data-level="18.1.3" data-path="dv-plotly.html"><a href="dv-plotly.html#散点图汇总"><i class="fa fa-check"></i><b>18.1.3</b> 散点图汇总</a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="dv-plotly.html"><a href="dv-plotly.html#折线图"><i class="fa fa-check"></i><b>18.2</b> 折线图</a></li>
<li class="chapter" data-level="18.3" data-path="dv-plotly.html"><a href="dv-plotly.html#plotly-bar"><i class="fa fa-check"></i><b>18.3</b> 条形图</a></li>
<li class="chapter" data-level="18.4" data-path="dv-plotly.html"><a href="dv-plotly.html#直方图"><i class="fa fa-check"></i><b>18.4</b> 直方图</a></li>
<li class="chapter" data-level="18.5" data-path="dv-plotly.html"><a href="dv-plotly.html#plotly-box"><i class="fa fa-check"></i><b>18.5</b> 箱线图</a></li>
<li class="chapter" data-level="18.6" data-path="dv-plotly.html"><a href="dv-plotly.html#提琴图"><i class="fa fa-check"></i><b>18.6</b> 提琴图</a></li>
<li class="chapter" data-level="18.7" data-path="dv-plotly.html"><a href="dv-plotly.html#饼图"><i class="fa fa-check"></i><b>18.7</b> 饼图</a></li>
<li class="chapter" data-level="18.8" data-path="dv-plotly.html"><a href="dv-plotly.html#地图"><i class="fa fa-check"></i><b>18.8</b> 地图</a></li>
<li class="chapter" data-level="18.9" data-path="dv-plotly.html"><a href="dv-plotly.html#区域图"><i class="fa fa-check"></i><b>18.9</b> 区域图</a></li>
<li class="chapter" data-level="18.10" data-path="dv-plotly.html"><a href="dv-plotly.html#choropleth-地图"><i class="fa fa-check"></i><b>18.10</b> choropleth 地图</a></li>
<li class="chapter" data-level="18.11" data-path="dv-plotly.html"><a href="dv-plotly.html#多图布局"><i class="fa fa-check"></i><b>18.11</b> 多图布局</a></li>
<li class="chapter" data-level="18.12" data-path="dv-plotly.html"><a href="dv-plotly.html#二维密度图"><i class="fa fa-check"></i><b>18.12</b> 二维密度图</a></li>
<li class="chapter" data-level="18.13" data-path="dv-plotly.html"><a href="dv-plotly.html#热力图"><i class="fa fa-check"></i><b>18.13</b> 热力图</a></li>
<li class="chapter" data-level="18.14" data-path="dv-plotly.html"><a href="dv-plotly.html#三维地形图"><i class="fa fa-check"></i><b>18.14</b> 三维地形图</a></li>
<li class="chapter" data-level="18.15" data-path="dv-plotly.html"><a href="dv-plotly.html#三维散点图"><i class="fa fa-check"></i><b>18.15</b> 三维散点图</a></li>
<li class="chapter" data-level="18.16" data-path="dv-plotly.html"><a href="dv-plotly.html#ggplotly"><i class="fa fa-check"></i><b>18.16</b> ggplotly</a></li>
<li class="chapter" data-level="18.17" data-path="dv-plotly.html"><a href="dv-plotly.html#导出图形"><i class="fa fa-check"></i><b>18.17</b> 导出图形</a></li>
<li class="chapter" data-level="18.18" data-path="dv-plotly.html"><a href="dv-plotly.html#plotly-语法"><i class="fa fa-check"></i><b>18.18</b> plotly 语法</a><ul>
<li class="chapter" data-level="18.18.1" data-path="dv-plotly.html"><a href="dv-plotly.html#图形种类"><i class="fa fa-check"></i><b>18.18.1</b> 图形种类</a></li>
<li class="chapter" data-level="18.18.2" data-path="dv-plotly.html"><a href="dv-plotly.html#图形参数"><i class="fa fa-check"></i><b>18.18.2</b> 图形参数</a></li>
</ul></li>
<li class="chapter" data-level="18.19" data-path="dv-plotly.html"><a href="dv-plotly.html#运行环境"><i class="fa fa-check"></i><b>18.19</b> 运行环境</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="dv-spatio-temporal.html"><a href="dv-spatio-temporal.html"><i class="fa fa-check"></i><b>19</b> 时空可视化</a><ul>
<li class="chapter" data-level="19.1" data-path="dv-spatio-temporal.html"><a href="dv-spatio-temporal.html#map"><i class="fa fa-check"></i><b>19.1</b> 地图</a><ul>
<li class="chapter" data-level="19.1.1" data-path="dv-spatio-temporal.html"><a href="dv-spatio-temporal.html#project-orientation"><i class="fa fa-check"></i><b>19.1.1</b> 投影和观察方位</a></li>
<li class="chapter" data-level="19.1.2" data-path="dv-spatio-temporal.html"><a href="dv-spatio-temporal.html#USA-crime-rates"><i class="fa fa-check"></i><b>19.1.2</b> 美国各州犯罪率</a></li>
<li class="chapter" data-level="19.1.3" data-path="dv-spatio-temporal.html"><a href="dv-spatio-temporal.html#fiji-earthquake-map"><i class="fa fa-check"></i><b>19.1.3</b> 斐济地震带</a></li>
<li class="chapter" data-level="19.1.4" data-path="dv-spatio-temporal.html"><a href="dv-spatio-temporal.html#USA-unemployment-ratio"><i class="fa fa-check"></i><b>19.1.4</b> 美国各城镇失业率</a></li>
</ul></li>
<li class="chapter" data-level="19.2" data-path="dv-spatio-temporal.html"><a href="dv-spatio-temporal.html#spatial-op"><i class="fa fa-check"></i><b>19.2</b> 空间数据对象</a><ul>
<li class="chapter" data-level="19.2.1" data-path="dv-spatio-temporal.html"><a href="dv-spatio-temporal.html#ggplot2-sp"><i class="fa fa-check"></i><b>19.2.1</b> sp</a></li>
<li class="chapter" data-level="19.2.2" data-path="dv-spatio-temporal.html"><a href="dv-spatio-temporal.html#ggplot2-raster"><i class="fa fa-check"></i><b>19.2.2</b> raster</a></li>
<li class="chapter" data-level="19.2.3" data-path="dv-spatio-temporal.html"><a href="dv-spatio-temporal.html#ggplot2-sf"><i class="fa fa-check"></i><b>19.2.3</b> sf</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="20" data-path="dynamic-documents.html"><a href="dynamic-documents.html"><i class="fa fa-check"></i><b>20</b> 动态性文档</a><ul>
<li class="chapter" data-level="20.1" data-path="dynamic-documents.html"><a href="dynamic-documents.html#markdown"><i class="fa fa-check"></i><b>20.1</b> Markdown</a><ul>
<li class="chapter" data-level="20.1.1" data-path="dynamic-documents.html"><a href="dynamic-documents.html#markdown-list"><i class="fa fa-check"></i><b>20.1.1</b> 列表</a></li>
<li class="chapter" data-level="20.1.2" data-path="dynamic-documents.html"><a href="dynamic-documents.html#markdown-quote"><i class="fa fa-check"></i><b>20.1.2</b> 引用</a></li>
<li class="chapter" data-level="20.1.3" data-path="dynamic-documents.html"><a href="dynamic-documents.html#markdown-table"><i class="fa fa-check"></i><b>20.1.3</b> 表格</a></li>
<li class="chapter" data-level="20.1.4" data-path="dynamic-documents.html"><a href="dynamic-documents.html#image"><i class="fa fa-check"></i><b>20.1.4</b> 图片</a></li>
<li class="chapter" data-level="20.1.5" data-path="dynamic-documents.html"><a href="dynamic-documents.html#markdown-math"><i class="fa fa-check"></i><b>20.1.5</b> 公式</a></li>
</ul></li>
<li class="chapter" data-level="20.2" data-path="dynamic-documents.html"><a href="dynamic-documents.html#pandoc-markdown"><i class="fa fa-check"></i><b>20.2</b> Pandoc’s Markdown</a></li>
<li class="chapter" data-level="20.3" data-path="dynamic-documents.html"><a href="dynamic-documents.html#r-markdown"><i class="fa fa-check"></i><b>20.3</b> R Markdown</a><ul>
<li class="chapter" data-level="20.3.1" data-path="dynamic-documents.html"><a href="dynamic-documents.html#语法高亮"><i class="fa fa-check"></i><b>20.3.1</b> 语法高亮</a></li>
</ul></li>
<li class="chapter" data-level="20.4" data-path="dynamic-documents.html"><a href="dynamic-documents.html#table-style"><i class="fa fa-check"></i><b>20.4</b> 表格样式</a><ul>
<li class="chapter" data-level="20.4.1" data-path="dynamic-documents.html"><a href="dynamic-documents.html#table-html"><i class="fa fa-check"></i><b>20.4.1</b> HTML 样式</a></li>
<li class="chapter" data-level="20.4.2" data-path="dynamic-documents.html"><a href="dynamic-documents.html#table-latex"><i class="fa fa-check"></i><b>20.4.2</b> LaTeX 样式</a></li>
</ul></li>
<li class="chapter" data-level="20.5" data-path="dynamic-documents.html"><a href="dynamic-documents.html#rmarkdown-addins"><i class="fa fa-check"></i><b>20.5</b> 插件</a></li>
<li class="chapter" data-level="20.6" data-path="dynamic-documents.html"><a href="dynamic-documents.html#subsec:rmarkdown"><i class="fa fa-check"></i><b>20.6</b> 报告</a></li>
<li class="chapter" data-level="20.7" data-path="dynamic-documents.html"><a href="dynamic-documents.html#subsec:pagedown"><i class="fa fa-check"></i><b>20.7</b> 简历</a></li>
<li class="chapter" data-level="20.8" data-path="dynamic-documents.html"><a href="dynamic-documents.html#subsec:bookdown"><i class="fa fa-check"></i><b>20.8</b> 书籍</a></li>
<li class="chapter" data-level="20.9" data-path="dynamic-documents.html"><a href="dynamic-documents.html#subsec:blogdown"><i class="fa fa-check"></i><b>20.9</b> 网站</a></li>
<li class="chapter" data-level="20.10" data-path="dynamic-documents.html"><a href="dynamic-documents.html#subsec:dashboard"><i class="fa fa-check"></i><b>20.10</b> Shiny</a></li>
<li class="chapter" data-level="20.11" data-path="dynamic-documents.html"><a href="dynamic-documents.html#subsec:xaringan"><i class="fa fa-check"></i><b>20.11</b> 幻灯片</a></li>
<li class="chapter" data-level="20.12" data-path="dynamic-documents.html"><a href="dynamic-documents.html#sec:animation-video"><i class="fa fa-check"></i><b>20.12</b> 动画视频</a></li>
<li class="chapter" data-level="20.13" data-path="dynamic-documents.html"><a href="dynamic-documents.html#sec:diagram-table"><i class="fa fa-check"></i><b>20.13</b> 图表</a><ul>
<li class="chapter" data-level="20.13.1" data-path="dynamic-documents.html"><a href="dynamic-documents.html#tikz-1"><i class="fa fa-check"></i><b>20.13.1</b> TikZ</a></li>
<li class="chapter" data-level="20.13.2" data-path="dynamic-documents.html"><a href="dynamic-documents.html#dot"><i class="fa fa-check"></i><b>20.13.2</b> DOT</a></li>
<li class="chapter" data-level="20.13.3" data-path="dynamic-documents.html"><a href="dynamic-documents.html#subsec:uml"><i class="fa fa-check"></i><b>20.13.3</b> UML</a></li>
<li class="chapter" data-level="20.13.4" data-path="dynamic-documents.html"><a href="dynamic-documents.html#subsec:table"><i class="fa fa-check"></i><b>20.13.4</b> 表格</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="21" data-path="interactive-graphics.html"><a href="interactive-graphics.html"><i class="fa fa-check"></i><b>21</b> 交互式图形</a><ul>
<li class="chapter" data-level="21.1" data-path="interactive-graphics.html"><a href="interactive-graphics.html#rgl"><i class="fa fa-check"></i><b>21.1</b> rgl</a></li>
<li class="chapter" data-level="21.2" data-path="interactive-graphics.html"><a href="interactive-graphics.html#leaflet"><i class="fa fa-check"></i><b>21.2</b> leaflet</a></li>
<li class="chapter" data-level="21.3" data-path="interactive-graphics.html"><a href="interactive-graphics.html#vegawidget"><i class="fa fa-check"></i><b>21.3</b> vegawidget</a></li>
<li class="chapter" data-level="21.4" data-path="interactive-graphics.html"><a href="interactive-graphics.html#network"><i class="fa fa-check"></i><b>21.4</b> 网络图</a></li>
<li class="chapter" data-level="21.5" data-path="interactive-graphics.html"><a href="interactive-graphics.html#threejs"><i class="fa fa-check"></i><b>21.5</b> threejs</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="cs-cran-network.html"><a href="cs-cran-network.html"><i class="fa fa-check"></i><b>22</b> 案例：分析 CRAN</a><ul>
<li class="chapter" data-level="22.1" data-path="cs-cran-network.html"><a href="cs-cran-network.html#R-Core-Team"><i class="fa fa-check"></i><b>22.1</b> R 核心团队</a></li>
<li class="chapter" data-level="22.2" data-path="cs-cran-network.html"><a href="cs-cran-network.html#Top-Creators"><i class="fa fa-check"></i><b>22.2</b> 高产的开发者</a></li>
<li class="chapter" data-level="22.3" data-path="cs-cran-network.html"><a href="cs-cran-network.html#R-Package-Developers"><i class="fa fa-check"></i><b>22.3</b> 社区开发者</a></li>
<li class="chapter" data-level="22.4" data-path="cs-cran-network.html"><a href="cs-cran-network.html#first-commit"><i class="fa fa-check"></i><b>22.4</b> 首次贡献 R 包</a></li>
<li class="chapter" data-level="22.5" data-path="cs-cran-network.html"><a href="cs-cran-network.html#Contribution-Network"><i class="fa fa-check"></i><b>22.5</b> 贡献关系网络</a></li>
<li class="chapter" data-level="22.6" data-path="cs-cran-network.html"><a href="cs-cran-network.html#CRAN-Update-Packages"><i class="fa fa-check"></i><b>22.6</b> 更新知多少</a></li>
<li class="chapter" data-level="22.7" data-path="cs-cran-network.html"><a href="cs-cran-network.html#Package-Licenses"><i class="fa fa-check"></i><b>22.7</b> 使用许可证</a></li>
<li class="chapter" data-level="22.8" data-path="cs-cran-network.html"><a href="cs-cran-network.html#r-包增长速度"><i class="fa fa-check"></i><b>22.8</b> R 包增长速度</a></li>
<li class="chapter" data-level="22.9" data-path="cs-cran-network.html"><a href="cs-cran-network.html#Choose-Package"><i class="fa fa-check"></i><b>22.9</b> 选择 R 包</a></li>
<li class="chapter" data-level="22.10" data-path="cs-cran-network.html"><a href="cs-cran-network.html#cs-network-session-info"><i class="fa fa-check"></i><b>22.10</b> 运行环境</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="99-references.html"><a href="99-references.html"><i class="fa fa-check"></i>参考文献</a></li>
<li class="divider"></li>
<li><a href="https://r-graphics.netlify.com/" target="blank">Published with netlify</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">数据科学与 R 语言</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="dplyr-manipulation" class="section level1">
<h1><span class="header-section-number">第 6 章</span> 净土化操作</h1>
<blockquote>
<p>常用操作和高频问题需要合并进之前的 data-manipulation，本章只介绍向量化计算
以 dplyr 为核心的 tidyverse 风数据操作 管道风操作</p>
</blockquote>
<p>在不同规模的数据集上，Base R，dplyr 和 data.table 的处理性能应该属于低、中、高档搭配的情形</p>
<div class="sidebar">
<p>更加高级的数据变形操作，特别是数据类型的一致性，方便后续的可视化和建模，引入 tidyverse，数据处理或者叫特征工程 Base R vs data.table vs dplyr 它们各有优点，所以都加以介绍 参考 <a href="https://jozef.io/categories/rcase4base/">Jozef Hajnala</a> 博文。</p>
<p>关于 tidyverse 提供的数据操作不要移动到 Base R 对应的章节，这二者已经越行越远，本章主要讲并行或分布式数据操作工具，如 sparklyr 针对大数据集上的操</p>
<p>Base R 的数据操作的一致性问题参见统计之都帖子 <a href="https://d.cosx.org/d/420763" class="uri">https://d.cosx.org/d/420763</a></p>
<p><a href="https://malco.io/">Malcolm Barrett</a> 以幻灯片的形式呈现 <a href="https://malco.io/slides/hs_dplyr/">dplyr</a> 和 <a href="https://malco.io/slides/hs_purrr/">purrr</a> 的基础用法</p>
<p>Charlotte Wickham 的课程 A introduction to purrr <a href="https://github.com/cwickham/purrr-tutorial">purrr-tutorial</a></p>
<p>关于引用 <a href="https://github.com/cwickham/quotation">quotation</a></p>
<p>相比于 SQL， dplyr 在数据库操作的不足，这是一些比较难的部分 <a href="https://dbi.r-dbi.org/articles/dbi-1#sec:open-issues" class="uri">https://dbi.r-dbi.org/articles/dbi-1#sec:open-issues</a></p>
</div>
<p>函数式编程 Functional Programming Languages 用于数据处理</p>
<ul>
<li><a href="https://github.com/smartinsightsfromdata/rpivotTable">rpivotTable</a> 动态数据透视表</li>
<li><a href="https://github.com/dgrtwo/fuzzyjoin">fuzzyjoin</a> Join tables together on inexact matching</li>
<li><a href="https://github.com/hadley/dtplyr">dtplyr</a> dtplyr is the data.table backend for dplyr. It provides S3 methods for data.table objects so that dplyr works the way you expect.</li>
<li><a href="https://github.com/yonicd/bplyr">bplyr</a> basic dplyr and tidyr functionality without the tidyverse dependencies</li>
<li><a href="https://github.com/OHDSI/SqlRender">SqlRender</a> 基于 Java 语言，借助 rJava 包支持参数化的 SQL 语句，并且可以将一种 SQL 语句（如 Microsoft SQL Server）转化为多种SQL语句（如Oracle, PostgreSQL, Amazon RedShift, Impala, IBM Netezza, Google BigQuery, Microsoft PDW, and SQLite）</li>
<li><a href="https://github.com/wch/fastmap">fastmap</a> 实现键值存储，提供新的数据结构</li>
<li><a href="https://github.com/RoaringBitmap/CRoaring">Roaring bitmaps</a> Bitsets, also called bitmaps, are commonly used as fast data structures.</li>
</ul>
<div class="sourceCode" id="cb307"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb307-1"><a href="data-tibble.html#cb307-1"></a><span class="kw">library</span>(tidyverse)</span></code></pre></div>
<p>数据操作的语法</p>
<p>第一代</p>
<ol style="list-style-type: decimal">
<li>Base R 数据操作已在第 <a href="data-frame.html#data-manipulator">5</a> 章详细介绍</li>
</ol>
<p>第二代</p>
<ol style="list-style-type: decimal">
<li>reshape （退休）使用函数 <code>melt</code> 和 <code>cast</code> 重构(restructure)和聚合(aggregate)数据</li>
<li>reshape2 （退休）是 reshape 的继任者，功能和 reshape 类似，提供两个函数 <code>melt</code> 和 <code>cast</code> 聚合数据，因此不再介绍 reshape，而鉴于 reshape2 还在活跃使用中，故而以它为例介绍 <code>melt</code> 和 <code>cast</code> 函数</li>
<li>plyr （退休）统一拆分(split)，计算(apply)，合并(combine)的数据处理流，由 dplyr（用于data.frame） 和 purrr （用于 list）继任</li>
</ol>
<p>第三代</p>
<ol style="list-style-type: decimal">
<li>dplyr 操作数据的语法及其扩展</li>
<li>sparklyr 给 dplyr 提供 Spark 接口支持</li>
<li>dbplyr 给 dplyr 提供 DBI 数据库接口支持</li>
<li>dtplyr 给 dplyr 提供 data.table 支持</li>
<li>tidyr 提供 <code>spread</code> 和 <code>gather</code> 两个函数清洗数据</li>
</ol>
<p>Garrett Grolemund 在 RStudio 主要从事教育教学，参考 <a href="https://github.com/rstudio-education/teach-tidy">Materials for the Tidyverse Train-the-trainer workshop</a> 和 <a href="https://rstudio-education.github.io/tidyverse-cookbook/">The Tidyverse Cookbook</a></p>
<p>Dirk Eddelbuettel 的 <a href="https://github.com/eddelbuettel/gsir-te">Getting Started in R – Tinyverse Edition</a></p>
<div id="common-operations" class="section level2">
<h2><span class="header-section-number">6.1</span> 常用操作</h2>
<p>dplyr 由 Hadley Wickham 主要由开发和维护，是Rstudio公司开源的用于数据处理的一大利器，该包号称“数据操作的语法”，与 ggplot2 对应，也就是说数据处理那一套已经建立完整的和SQL一样的功能。它们都遵循同样的处理逻辑，只不过一个用SQL写，一个用R语言写，处理效率差不多，R语言写的 SQL 会被翻译为 SQL 语句，再传至数据库查询，当然它也支持内存内的数据操作。目前 dplyr 以 dbplyr 为后端支持的数据库有：MySQL、PostgreSQL，SQLite等，完整的支持列表请看 <a href="https://dplyr.tidyverse.org">这里</a>，连接特定数据库，都是基于 DBI，DBI 即 Database Interface， 是使用C/C++开发的底层数据库接口，是一个统一的关系型数据库连接框架，需要根据不同的具体的数据库进行实例化，才可使用。</p>
<p>dplyr 常用的函数是 7 个： <code>arrange</code> 排序 <code>filter</code> 过滤行 <code>select</code> 选择列 <code>mutate</code> 变换 <code>summarise</code> 汇总 <code>group_by</code> 分组 <code>distinct</code> 去重</p>
<p>以 ggplot2 包自带的钻石数据集 diamonds 为例介绍</p>
<div id="tibble-show" class="section level3">
<h3><span class="header-section-number">6.1.1</span> 查看</h3>
<p>除了直接打印数据集的前几行，tibble 包还提供 glimpse 函数查看数据集，而 Base R 默认查看方式是调用 str 函数</p>
<div class="sourceCode" id="cb308"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb308-1"><a href="data-tibble.html#cb308-1"></a>diamonds</span>
<span id="cb308-2"><a href="data-tibble.html#cb308-2"></a><span class="co">#&gt; # A tibble: 53,940 x 10</span></span>
<span id="cb308-3"><a href="data-tibble.html#cb308-3"></a><span class="co">#&gt;   carat cut       color clarity depth table price     x     y     z</span></span>
<span id="cb308-4"><a href="data-tibble.html#cb308-4"></a><span class="co">#&gt;   &lt;dbl&gt; &lt;ord&gt;     &lt;ord&gt; &lt;ord&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span id="cb308-5"><a href="data-tibble.html#cb308-5"></a><span class="co">#&gt; 1 0.23  Ideal     E     SI2      61.5    55   326  3.95  3.98  2.43</span></span>
<span id="cb308-6"><a href="data-tibble.html#cb308-6"></a><span class="co">#&gt; 2 0.21  Premium   E     SI1      59.8    61   326  3.89  3.84  2.31</span></span>
<span id="cb308-7"><a href="data-tibble.html#cb308-7"></a><span class="co">#&gt; 3 0.23  Good      E     VS1      56.9    65   327  4.05  4.07  2.31</span></span>
<span id="cb308-8"><a href="data-tibble.html#cb308-8"></a><span class="co">#&gt; 4 0.290 Premium   I     VS2      62.4    58   334  4.2   4.23  2.63</span></span>
<span id="cb308-9"><a href="data-tibble.html#cb308-9"></a><span class="co">#&gt; 5 0.31  Good      J     SI2      63.3    58   335  4.34  4.35  2.75</span></span>
<span id="cb308-10"><a href="data-tibble.html#cb308-10"></a><span class="co">#&gt; 6 0.24  Very Good J     VVS2     62.8    57   336  3.94  3.96  2.48</span></span>
<span id="cb308-11"><a href="data-tibble.html#cb308-11"></a><span class="co">#&gt; # … with 53,934 more rows</span></span>
<span id="cb308-12"><a href="data-tibble.html#cb308-12"></a><span class="kw">glimpse</span>(diamonds)</span>
<span id="cb308-13"><a href="data-tibble.html#cb308-13"></a><span class="co">#&gt; Rows: 53,940</span></span>
<span id="cb308-14"><a href="data-tibble.html#cb308-14"></a><span class="co">#&gt; Columns: 10</span></span>
<span id="cb308-15"><a href="data-tibble.html#cb308-15"></a><span class="co">#&gt; $ carat   &lt;dbl&gt; 0.23, 0.21, 0.23, 0.29, 0.31, 0.24, 0.24, 0.26, 0.22, 0.23, …</span></span>
<span id="cb308-16"><a href="data-tibble.html#cb308-16"></a><span class="co">#&gt; $ cut     &lt;ord&gt; Ideal, Premium, Good, Premium, Good, Very Good, Very Good, V…</span></span>
<span id="cb308-17"><a href="data-tibble.html#cb308-17"></a><span class="co">#&gt; $ color   &lt;ord&gt; E, E, E, I, J, J, I, H, E, H, J, J, F, J, E, E, I, J, J, J, …</span></span>
<span id="cb308-18"><a href="data-tibble.html#cb308-18"></a><span class="co">#&gt; $ clarity &lt;ord&gt; SI2, SI1, VS1, VS2, SI2, VVS2, VVS1, SI1, VS2, VS1, SI1, VS1…</span></span>
<span id="cb308-19"><a href="data-tibble.html#cb308-19"></a><span class="co">#&gt; $ depth   &lt;dbl&gt; 61.5, 59.8, 56.9, 62.4, 63.3, 62.8, 62.3, 61.9, 65.1, 59.4, …</span></span>
<span id="cb308-20"><a href="data-tibble.html#cb308-20"></a><span class="co">#&gt; $ table   &lt;dbl&gt; 55, 61, 65, 58, 58, 57, 57, 55, 61, 61, 55, 56, 61, 54, 62, …</span></span>
<span id="cb308-21"><a href="data-tibble.html#cb308-21"></a><span class="co">#&gt; $ price   &lt;int&gt; 326, 326, 327, 334, 335, 336, 336, 337, 337, 338, 339, 340, …</span></span>
<span id="cb308-22"><a href="data-tibble.html#cb308-22"></a><span class="co">#&gt; $ x       &lt;dbl&gt; 3.95, 3.89, 4.05, 4.20, 4.34, 3.94, 3.95, 4.07, 3.87, 4.00, …</span></span>
<span id="cb308-23"><a href="data-tibble.html#cb308-23"></a><span class="co">#&gt; $ y       &lt;dbl&gt; 3.98, 3.84, 4.07, 4.23, 4.35, 3.96, 3.98, 4.11, 3.78, 4.05, …</span></span>
<span id="cb308-24"><a href="data-tibble.html#cb308-24"></a><span class="co">#&gt; $ z       &lt;dbl&gt; 2.43, 2.31, 2.31, 2.63, 2.75, 2.48, 2.47, 2.53, 2.49, 2.39, …</span></span></code></pre></div>
<table>
<caption><span id="tab:dplyr-object-type">表 6.1: </span> dplyr 定义的数据对象类型</caption>
<thead>
<tr class="header">
<th align="left">类型</th>
<th align="left">含义</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">int</td>
<td align="left">整型 integer</td>
</tr>
<tr class="even">
<td align="left">dbl</td>
<td align="left">（单）双精度浮点类型</td>
</tr>
<tr class="odd">
<td align="left">chr</td>
<td align="left">字符（串）类型</td>
</tr>
<tr class="even">
<td align="left">dttm</td>
<td align="left">data-time 类型</td>
</tr>
<tr class="odd">
<td align="left">lgl</td>
<td align="left">布尔类型</td>
</tr>
<tr class="even">
<td align="left">fctr</td>
<td align="left">因子类型 factor</td>
</tr>
<tr class="odd">
<td align="left">date</td>
<td align="left">日期类型</td>
</tr>
</tbody>
</table>
<p>表 <a href="data-tibble.html#tab:dplyr-object-type">6.1</a> 中 dttm 和 date 类型代指 lubridate 包指定的日期对象 POSIXct、 POSIXlt、 Date、 chron、 yearmon、 yearqtr、 zoo、 zooreg、 timeDate、 xts、 its、 ti、 jul、 timeSeries 和 fts。</p>
</div>
<div id="dplyr-filter" class="section level3">
<h3><span class="header-section-number">6.1.2</span> 筛选</h3>
<p>按条件筛选数据的子集，按行筛选</p>
<div class="sourceCode" id="cb309"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb309-1"><a href="data-tibble.html#cb309-1"></a>diamonds <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(cut <span class="op">==</span><span class="st"> &quot;Ideal&quot;</span> , carat <span class="op">&gt;=</span><span class="st"> </span><span class="dv">3</span>)</span>
<span id="cb309-2"><a href="data-tibble.html#cb309-2"></a><span class="co">#&gt; # A tibble: 4 x 10</span></span>
<span id="cb309-3"><a href="data-tibble.html#cb309-3"></a><span class="co">#&gt;   carat cut   color clarity depth table price     x     y     z</span></span>
<span id="cb309-4"><a href="data-tibble.html#cb309-4"></a><span class="co">#&gt;   &lt;dbl&gt; &lt;ord&gt; &lt;ord&gt; &lt;ord&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span id="cb309-5"><a href="data-tibble.html#cb309-5"></a><span class="co">#&gt; 1  3.22 Ideal I     I1       62.6    55 12545  9.49  9.42  5.92</span></span>
<span id="cb309-6"><a href="data-tibble.html#cb309-6"></a><span class="co">#&gt; 2  3.5  Ideal H     I1       62.8    57 12587  9.65  9.59  6.03</span></span>
<span id="cb309-7"><a href="data-tibble.html#cb309-7"></a><span class="co">#&gt; 3  3.01 Ideal J     SI2      61.7    58 16037  9.25  9.2   5.69</span></span>
<span id="cb309-8"><a href="data-tibble.html#cb309-8"></a><span class="co">#&gt; 4  3.01 Ideal J     I1       65.4    60 16538  8.99  8.93  5.86</span></span></code></pre></div>
<p>先按行，再按列筛选</p>
<div class="sourceCode" id="cb310"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb310-1"><a href="data-tibble.html#cb310-1"></a>diamonds <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb310-2"><a href="data-tibble.html#cb310-2"></a><span class="st">  </span><span class="kw">filter</span>(carat <span class="op">&gt;=</span><span class="st"> </span><span class="dv">3</span>, color <span class="op">==</span><span class="st"> &quot;I&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb310-3"><a href="data-tibble.html#cb310-3"></a><span class="st">  </span><span class="kw">select</span>(cut, carat)</span>
<span id="cb310-4"><a href="data-tibble.html#cb310-4"></a><span class="co">#&gt; # A tibble: 16 x 2</span></span>
<span id="cb310-5"><a href="data-tibble.html#cb310-5"></a><span class="co">#&gt;   cut       carat</span></span>
<span id="cb310-6"><a href="data-tibble.html#cb310-6"></a><span class="co">#&gt;   &lt;ord&gt;     &lt;dbl&gt;</span></span>
<span id="cb310-7"><a href="data-tibble.html#cb310-7"></a><span class="co">#&gt; 1 Premium    3.01</span></span>
<span id="cb310-8"><a href="data-tibble.html#cb310-8"></a><span class="co">#&gt; 2 Fair       3.02</span></span>
<span id="cb310-9"><a href="data-tibble.html#cb310-9"></a><span class="co">#&gt; 3 Good       3   </span></span>
<span id="cb310-10"><a href="data-tibble.html#cb310-10"></a><span class="co">#&gt; 4 Ideal      3.22</span></span>
<span id="cb310-11"><a href="data-tibble.html#cb310-11"></a><span class="co">#&gt; 5 Premium    4.01</span></span>
<span id="cb310-12"><a href="data-tibble.html#cb310-12"></a><span class="co">#&gt; 6 Very Good  3.04</span></span>
<span id="cb310-13"><a href="data-tibble.html#cb310-13"></a><span class="co">#&gt; # … with 10 more rows</span></span></code></pre></div>
</div>
<div id="dplyr-arrange" class="section level3">
<h3><span class="header-section-number">6.1.3</span> 排序</h3>
<p>arrange 默认升序排列，按钻石重量升序，按价格降序</p>
<div class="sourceCode" id="cb311"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb311-1"><a href="data-tibble.html#cb311-1"></a>diamonds <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb311-2"><a href="data-tibble.html#cb311-2"></a><span class="st">  </span><span class="kw">filter</span>(cut <span class="op">==</span><span class="st"> &quot;Ideal&quot;</span> , carat <span class="op">&gt;=</span><span class="st"> </span><span class="dv">3</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb311-3"><a href="data-tibble.html#cb311-3"></a><span class="st">  </span><span class="kw">arrange</span>(carat, <span class="kw">desc</span>(price))</span>
<span id="cb311-4"><a href="data-tibble.html#cb311-4"></a><span class="co">#&gt; # A tibble: 4 x 10</span></span>
<span id="cb311-5"><a href="data-tibble.html#cb311-5"></a><span class="co">#&gt;   carat cut   color clarity depth table price     x     y     z</span></span>
<span id="cb311-6"><a href="data-tibble.html#cb311-6"></a><span class="co">#&gt;   &lt;dbl&gt; &lt;ord&gt; &lt;ord&gt; &lt;ord&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span id="cb311-7"><a href="data-tibble.html#cb311-7"></a><span class="co">#&gt; 1  3.01 Ideal J     I1       65.4    60 16538  8.99  8.93  5.86</span></span>
<span id="cb311-8"><a href="data-tibble.html#cb311-8"></a><span class="co">#&gt; 2  3.01 Ideal J     SI2      61.7    58 16037  9.25  9.2   5.69</span></span>
<span id="cb311-9"><a href="data-tibble.html#cb311-9"></a><span class="co">#&gt; 3  3.22 Ideal I     I1       62.6    55 12545  9.49  9.42  5.92</span></span>
<span id="cb311-10"><a href="data-tibble.html#cb311-10"></a><span class="co">#&gt; 4  3.5  Ideal H     I1       62.8    57 12587  9.65  9.59  6.03</span></span></code></pre></div>
</div>
<div id="dplyr-summarise" class="section level3">
<h3><span class="header-section-number">6.1.4</span> 聚合</h3>
<p>分组求和，求平均，计数</p>
<div class="sourceCode" id="cb312"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb312-1"><a href="data-tibble.html#cb312-1"></a>diamonds <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb312-2"><a href="data-tibble.html#cb312-2"></a><span class="st">  </span><span class="kw">filter</span>(carat <span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span>, color <span class="op">==</span><span class="st"> &quot;I&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb312-3"><a href="data-tibble.html#cb312-3"></a><span class="st">  </span><span class="kw">group_by</span>(cut, clarity) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb312-4"><a href="data-tibble.html#cb312-4"></a><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">sum_carat =</span> <span class="kw">sum</span>(carat), <span class="dt">mean_carat =</span> <span class="kw">mean</span>(carat), <span class="dt">n_count =</span> <span class="kw">n</span>())</span>
<span id="cb312-5"><a href="data-tibble.html#cb312-5"></a><span class="co">#&gt; `summarise()` regrouping output by &#39;cut&#39; (override with `.groups` argument)</span></span>
<span id="cb312-6"><a href="data-tibble.html#cb312-6"></a><span class="co">#&gt; # A tibble: 8 x 5</span></span>
<span id="cb312-7"><a href="data-tibble.html#cb312-7"></a><span class="co">#&gt; # Groups:   cut [5]</span></span>
<span id="cb312-8"><a href="data-tibble.html#cb312-8"></a><span class="co">#&gt;   cut       clarity sum_carat mean_carat n_count</span></span>
<span id="cb312-9"><a href="data-tibble.html#cb312-9"></a><span class="co">#&gt;   &lt;ord&gt;     &lt;ord&gt;       &lt;dbl&gt;      &lt;dbl&gt;   &lt;int&gt;</span></span>
<span id="cb312-10"><a href="data-tibble.html#cb312-10"></a><span class="co">#&gt; 1 Fair      I1           3.02       3.02       1</span></span>
<span id="cb312-11"><a href="data-tibble.html#cb312-11"></a><span class="co">#&gt; 2 Fair      SI2          6.02       3.01       2</span></span>
<span id="cb312-12"><a href="data-tibble.html#cb312-12"></a><span class="co">#&gt; 3 Good      SI2          6.02       3.01       2</span></span>
<span id="cb312-13"><a href="data-tibble.html#cb312-13"></a><span class="co">#&gt; 4 Very Good I1           4          4          1</span></span>
<span id="cb312-14"><a href="data-tibble.html#cb312-14"></a><span class="co">#&gt; 5 Very Good SI2          3.04       3.04       1</span></span>
<span id="cb312-15"><a href="data-tibble.html#cb312-15"></a><span class="co">#&gt; 6 Premium   I1          10.7        3.56       3</span></span>
<span id="cb312-16"><a href="data-tibble.html#cb312-16"></a><span class="co">#&gt; # … with 2 more rows</span></span></code></pre></div>
</div>
<div id="dplyr-merge" class="section level3">
<h3><span class="header-section-number">6.1.5</span> 合并</h3>
<p>按行合并</p>
<div class="sourceCode" id="cb313"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb313-1"><a href="data-tibble.html#cb313-1"></a><span class="kw">set.seed</span>(<span class="dv">2018</span>)</span>
<span id="cb313-2"><a href="data-tibble.html#cb313-2"></a>one &lt;-<span class="st"> </span>diamonds <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb313-3"><a href="data-tibble.html#cb313-3"></a><span class="st">  </span><span class="kw">filter</span>(color <span class="op">==</span><span class="st"> &quot;I&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb313-4"><a href="data-tibble.html#cb313-4"></a><span class="st">  </span><span class="kw">sample_n</span>(<span class="dv">5</span>)</span>
<span id="cb313-5"><a href="data-tibble.html#cb313-5"></a>two &lt;-<span class="st"> </span>diamonds <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb313-6"><a href="data-tibble.html#cb313-6"></a><span class="st">  </span><span class="kw">filter</span>(color <span class="op">==</span><span class="st"> &quot;J&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb313-7"><a href="data-tibble.html#cb313-7"></a><span class="st">  </span><span class="kw">sample_n</span>(<span class="dv">5</span>)</span>
<span id="cb313-8"><a href="data-tibble.html#cb313-8"></a><span class="co"># 按行合并数据框 one 和 two</span></span>
<span id="cb313-9"><a href="data-tibble.html#cb313-9"></a><span class="kw">bind_rows</span>(one, two)</span>
<span id="cb313-10"><a href="data-tibble.html#cb313-10"></a><span class="co">#&gt; # A tibble: 10 x 10</span></span>
<span id="cb313-11"><a href="data-tibble.html#cb313-11"></a><span class="co">#&gt;   carat cut       color clarity depth table price     x     y     z</span></span>
<span id="cb313-12"><a href="data-tibble.html#cb313-12"></a><span class="co">#&gt;   &lt;dbl&gt; &lt;ord&gt;     &lt;ord&gt; &lt;ord&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span id="cb313-13"><a href="data-tibble.html#cb313-13"></a><span class="co">#&gt; 1  0.42 Ideal     I     VVS1     62.5  57     884  4.77  4.8   2.99</span></span>
<span id="cb313-14"><a href="data-tibble.html#cb313-14"></a><span class="co">#&gt; 2  0.3  Ideal     I     VVS2     62.5  53.6   532  4.29  4.33  2.69</span></span>
<span id="cb313-15"><a href="data-tibble.html#cb313-15"></a><span class="co">#&gt; 3  2.02 Good      I     VS1      57.9  63   17533  8.13  8.21  4.73</span></span>
<span id="cb313-16"><a href="data-tibble.html#cb313-16"></a><span class="co">#&gt; 4  0.9  Premium   I     VS2      61.9  58    3398  6.18  6.23  3.84</span></span>
<span id="cb313-17"><a href="data-tibble.html#cb313-17"></a><span class="co">#&gt; 5  1.98 Very Good I     VS2      62.7  60   15083  7.9   7.96  4.98</span></span>
<span id="cb313-18"><a href="data-tibble.html#cb313-18"></a><span class="co">#&gt; 6  1.51 Very Good J     VVS2     62.6  63    8706  7.29  7.24  4.55</span></span>
<span id="cb313-19"><a href="data-tibble.html#cb313-19"></a><span class="co">#&gt; # … with 4 more rows</span></span></code></pre></div>
<p>按列合并</p>
<div class="sourceCode" id="cb314"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb314-1"><a href="data-tibble.html#cb314-1"></a><span class="kw">set.seed</span>(<span class="dv">2018</span>)</span>
<span id="cb314-2"><a href="data-tibble.html#cb314-2"></a>three &lt;-<span class="st"> </span>diamonds <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb314-3"><a href="data-tibble.html#cb314-3"></a><span class="st">  </span><span class="kw">select</span>(carat, color) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb314-4"><a href="data-tibble.html#cb314-4"></a><span class="st">  </span><span class="kw">sample_n</span>(<span class="dv">5</span>)</span>
<span id="cb314-5"><a href="data-tibble.html#cb314-5"></a>four &lt;-<span class="st"> </span>diamonds <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb314-6"><a href="data-tibble.html#cb314-6"></a><span class="st">  </span><span class="kw">select</span>(carat, color) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb314-7"><a href="data-tibble.html#cb314-7"></a><span class="st">  </span><span class="kw">sample_n</span>(<span class="dv">5</span>)</span>
<span id="cb314-8"><a href="data-tibble.html#cb314-8"></a><span class="kw">bind_cols</span>(three, four)</span>
<span id="cb314-9"><a href="data-tibble.html#cb314-9"></a><span class="co">#&gt; New names:</span></span>
<span id="cb314-10"><a href="data-tibble.html#cb314-10"></a><span class="co">#&gt; * carat -&gt; carat...1</span></span>
<span id="cb314-11"><a href="data-tibble.html#cb314-11"></a><span class="co">#&gt; * color -&gt; color...2</span></span>
<span id="cb314-12"><a href="data-tibble.html#cb314-12"></a><span class="co">#&gt; * carat -&gt; carat...3</span></span>
<span id="cb314-13"><a href="data-tibble.html#cb314-13"></a><span class="co">#&gt; * color -&gt; color...4</span></span>
<span id="cb314-14"><a href="data-tibble.html#cb314-14"></a><span class="co">#&gt; # A tibble: 5 x 4</span></span>
<span id="cb314-15"><a href="data-tibble.html#cb314-15"></a><span class="co">#&gt;   carat...1 color...2 carat...3 color...4</span></span>
<span id="cb314-16"><a href="data-tibble.html#cb314-16"></a><span class="co">#&gt;       &lt;dbl&gt; &lt;ord&gt;         &lt;dbl&gt; &lt;ord&gt;    </span></span>
<span id="cb314-17"><a href="data-tibble.html#cb314-17"></a><span class="co">#&gt; 1      0.33 H              0.52 F        </span></span>
<span id="cb314-18"><a href="data-tibble.html#cb314-18"></a><span class="co">#&gt; 2      1.09 F              0.51 F        </span></span>
<span id="cb314-19"><a href="data-tibble.html#cb314-19"></a><span class="co">#&gt; 3      1.52 I              0.5  G        </span></span>
<span id="cb314-20"><a href="data-tibble.html#cb314-20"></a><span class="co">#&gt; 4      0.95 G              0.38 E        </span></span>
<span id="cb314-21"><a href="data-tibble.html#cb314-21"></a><span class="co">#&gt; 5      0.35 E              0.51 J</span></span></code></pre></div>
</div>
<div id="dplyr-mutate" class="section level3">
<h3><span class="header-section-number">6.1.6</span> 变换</h3>
<p>添加一列，新的列或者改变原来的列</p>
<div class="sourceCode" id="cb315"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb315-1"><a href="data-tibble.html#cb315-1"></a>diamonds <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb315-2"><a href="data-tibble.html#cb315-2"></a><span class="st">  </span><span class="kw">filter</span>(carat <span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span>, color <span class="op">==</span><span class="st"> &quot;I&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb315-3"><a href="data-tibble.html#cb315-3"></a><span class="st">  </span><span class="kw">select</span>(cut, carat) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb315-4"><a href="data-tibble.html#cb315-4"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">vol =</span> <span class="kw">if_else</span>(carat <span class="op">&gt;</span><span class="st"> </span><span class="fl">3.5</span>, <span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>))</span>
<span id="cb315-5"><a href="data-tibble.html#cb315-5"></a><span class="co">#&gt; # A tibble: 13 x 3</span></span>
<span id="cb315-6"><a href="data-tibble.html#cb315-6"></a><span class="co">#&gt;   cut       carat vol  </span></span>
<span id="cb315-7"><a href="data-tibble.html#cb315-7"></a><span class="co">#&gt;   &lt;ord&gt;     &lt;dbl&gt; &lt;chr&gt;</span></span>
<span id="cb315-8"><a href="data-tibble.html#cb315-8"></a><span class="co">#&gt; 1 Premium    3.01 B    </span></span>
<span id="cb315-9"><a href="data-tibble.html#cb315-9"></a><span class="co">#&gt; 2 Fair       3.02 B    </span></span>
<span id="cb315-10"><a href="data-tibble.html#cb315-10"></a><span class="co">#&gt; 3 Ideal      3.22 B    </span></span>
<span id="cb315-11"><a href="data-tibble.html#cb315-11"></a><span class="co">#&gt; 4 Premium    4.01 A    </span></span>
<span id="cb315-12"><a href="data-tibble.html#cb315-12"></a><span class="co">#&gt; 5 Very Good  3.04 B    </span></span>
<span id="cb315-13"><a href="data-tibble.html#cb315-13"></a><span class="co">#&gt; 6 Very Good  4    A    </span></span>
<span id="cb315-14"><a href="data-tibble.html#cb315-14"></a><span class="co">#&gt; # … with 7 more rows</span></span></code></pre></div>
</div>
<div id="dplyr-duplicated" class="section level3">
<h3><span class="header-section-number">6.1.7</span> 去重</h3>
<p>数据去重在 dplyr 中的实现<a href="#fn23" class="footnote-ref" id="fnref23"><sup>23</sup></a>。</p>
<div class="sourceCode" id="cb316"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb316-1"><a href="data-tibble.html#cb316-1"></a><span class="kw">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb316-2"><a href="data-tibble.html#cb316-2"></a>df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(</span>
<span id="cb316-3"><a href="data-tibble.html#cb316-3"></a>  <span class="dt">x =</span> <span class="kw">sample</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">1</span>, <span class="dv">10</span>, <span class="dt">replace =</span> T),</span>
<span id="cb316-4"><a href="data-tibble.html#cb316-4"></a>  <span class="dt">y =</span> <span class="kw">sample</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">1</span>, <span class="dv">10</span>, <span class="dt">replace =</span> T),</span>
<span id="cb316-5"><a href="data-tibble.html#cb316-5"></a>  <span class="dt">z =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">10</span></span>
<span id="cb316-6"><a href="data-tibble.html#cb316-6"></a>)</span>
<span id="cb316-7"><a href="data-tibble.html#cb316-7"></a>df</span>
<span id="cb316-8"><a href="data-tibble.html#cb316-8"></a><span class="co">#&gt;    x y  z</span></span>
<span id="cb316-9"><a href="data-tibble.html#cb316-9"></a><span class="co">#&gt; 1  0 1  1</span></span>
<span id="cb316-10"><a href="data-tibble.html#cb316-10"></a><span class="co">#&gt; 2  0 1  2</span></span>
<span id="cb316-11"><a href="data-tibble.html#cb316-11"></a><span class="co">#&gt; 3  0 1  3</span></span>
<span id="cb316-12"><a href="data-tibble.html#cb316-12"></a><span class="co">#&gt; 4  1 0  4</span></span>
<span id="cb316-13"><a href="data-tibble.html#cb316-13"></a><span class="co">#&gt; 5  0 1  5</span></span>
<span id="cb316-14"><a href="data-tibble.html#cb316-14"></a><span class="co">#&gt; 6  1 0  6</span></span>
<span id="cb316-15"><a href="data-tibble.html#cb316-15"></a><span class="co">#&gt; 7  1 1  7</span></span>
<span id="cb316-16"><a href="data-tibble.html#cb316-16"></a><span class="co">#&gt; 8  1 0  8</span></span>
<span id="cb316-17"><a href="data-tibble.html#cb316-17"></a><span class="co">#&gt; 9  0 0  9</span></span>
<span id="cb316-18"><a href="data-tibble.html#cb316-18"></a><span class="co">#&gt; 10 0 0 10</span></span></code></pre></div>
<p>去掉列重复的数据点 (x, y)</p>
<div class="sourceCode" id="cb317"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb317-1"><a href="data-tibble.html#cb317-1"></a>df <span class="op">%&gt;%</span></span>
<span id="cb317-2"><a href="data-tibble.html#cb317-2"></a><span class="st">  </span><span class="kw">group_by</span>(x, y) <span class="op">%&gt;%</span></span>
<span id="cb317-3"><a href="data-tibble.html#cb317-3"></a><span class="st">  </span><span class="kw">filter</span>(<span class="kw">row_number</span>(z) <span class="op">==</span><span class="st"> </span><span class="dv">1</span>)</span>
<span id="cb317-4"><a href="data-tibble.html#cb317-4"></a><span class="co">#&gt; # A tibble: 4 x 3</span></span>
<span id="cb317-5"><a href="data-tibble.html#cb317-5"></a><span class="co">#&gt; # Groups:   x, y [4]</span></span>
<span id="cb317-6"><a href="data-tibble.html#cb317-6"></a><span class="co">#&gt;       x     y     z</span></span>
<span id="cb317-7"><a href="data-tibble.html#cb317-7"></a><span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;</span></span>
<span id="cb317-8"><a href="data-tibble.html#cb317-8"></a><span class="co">#&gt; 1     0     1     1</span></span>
<span id="cb317-9"><a href="data-tibble.html#cb317-9"></a><span class="co">#&gt; 2     1     0     4</span></span>
<span id="cb317-10"><a href="data-tibble.html#cb317-10"></a><span class="co">#&gt; 3     1     1     7</span></span>
<span id="cb317-11"><a href="data-tibble.html#cb317-11"></a><span class="co">#&gt; 4     0     0     9</span></span>
<span id="cb317-12"><a href="data-tibble.html#cb317-12"></a><span class="co"># 此处不对，没有了 z </span></span>
<span id="cb317-13"><a href="data-tibble.html#cb317-13"></a>df <span class="op">%&gt;%</span></span>
<span id="cb317-14"><a href="data-tibble.html#cb317-14"></a><span class="st">  </span><span class="kw">distinct</span>(x, y)</span>
<span id="cb317-15"><a href="data-tibble.html#cb317-15"></a><span class="co">#&gt;   x y</span></span>
<span id="cb317-16"><a href="data-tibble.html#cb317-16"></a><span class="co">#&gt; 1 0 1</span></span>
<span id="cb317-17"><a href="data-tibble.html#cb317-17"></a><span class="co">#&gt; 2 1 0</span></span>
<span id="cb317-18"><a href="data-tibble.html#cb317-18"></a><span class="co">#&gt; 3 1 1</span></span>
<span id="cb317-19"><a href="data-tibble.html#cb317-19"></a><span class="co">#&gt; 4 0 0</span></span>
<span id="cb317-20"><a href="data-tibble.html#cb317-20"></a><span class="co"># 应该为</span></span>
<span id="cb317-21"><a href="data-tibble.html#cb317-21"></a>df <span class="op">%&gt;%</span></span>
<span id="cb317-22"><a href="data-tibble.html#cb317-22"></a><span class="st">  </span><span class="kw">distinct</span>(x, y, <span class="dt">.keep_all =</span> <span class="ot">TRUE</span>)</span>
<span id="cb317-23"><a href="data-tibble.html#cb317-23"></a><span class="co">#&gt;   x y z</span></span>
<span id="cb317-24"><a href="data-tibble.html#cb317-24"></a><span class="co">#&gt; 1 0 1 1</span></span>
<span id="cb317-25"><a href="data-tibble.html#cb317-25"></a><span class="co">#&gt; 2 1 0 4</span></span>
<span id="cb317-26"><a href="data-tibble.html#cb317-26"></a><span class="co">#&gt; 3 1 1 7</span></span>
<span id="cb317-27"><a href="data-tibble.html#cb317-27"></a><span class="co">#&gt; 4 0 0 9</span></span></code></pre></div>
</div>
</div>
<div id="common-dataframe-operations" class="section level2">
<h2><span class="header-section-number">6.2</span> 高频问题</h2>
<p>常用的数据操作包含</p>
<ol style="list-style-type: decimal">
<li>创建空的数据框或者说初始化一个数据框，</li>
<li>按指定的列对数据框排序，</li>
<li>选择特定的一些列，复杂情况是可能需要正则表达式从列名或者值中筛选</li>
<li>合并两个数据框，分为 (inner outer left right) 四种情况</li>
<li>宽格式和长格式互相转换，即重塑操作 reshape，单独的 tidyr 包操作，是 reshape2 包的进化版，提供 <code>spread</code> 和 <code>gather</code> 两个主要函数</li>
</ol>
<div id="create-empty-dataframe" class="section level3">
<h3><span class="header-section-number">6.2.1</span> 初始化数据框</h3>
<p>创建空的数据框，就是不包含任何行、记录</p>
<div class="sourceCode" id="cb318"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb318-1"><a href="data-tibble.html#cb318-1"></a>empty_df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(</span>
<span id="cb318-2"><a href="data-tibble.html#cb318-2"></a>  <span class="dt">Doubles =</span> <span class="kw">double</span>(),</span>
<span id="cb318-3"><a href="data-tibble.html#cb318-3"></a>  <span class="dt">Ints =</span> <span class="kw">integer</span>(),</span>
<span id="cb318-4"><a href="data-tibble.html#cb318-4"></a>  <span class="dt">Factors =</span> <span class="kw">factor</span>(),</span>
<span id="cb318-5"><a href="data-tibble.html#cb318-5"></a>  <span class="dt">Logicals =</span> <span class="kw">logical</span>(),</span>
<span id="cb318-6"><a href="data-tibble.html#cb318-6"></a>  <span class="dt">Characters =</span> <span class="kw">character</span>(),</span>
<span id="cb318-7"><a href="data-tibble.html#cb318-7"></a>  <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span></span>
<span id="cb318-8"><a href="data-tibble.html#cb318-8"></a>)</span>
<span id="cb318-9"><a href="data-tibble.html#cb318-9"></a><span class="kw">str</span>(empty_df)</span>
<span id="cb318-10"><a href="data-tibble.html#cb318-10"></a><span class="co">#&gt; &#39;data.frame&#39;:    0 obs. of  5 variables:</span></span>
<span id="cb318-11"><a href="data-tibble.html#cb318-11"></a><span class="co">#&gt;  $ Doubles   : num </span></span>
<span id="cb318-12"><a href="data-tibble.html#cb318-12"></a><span class="co">#&gt;  $ Ints      : int </span></span>
<span id="cb318-13"><a href="data-tibble.html#cb318-13"></a><span class="co">#&gt;  $ Factors   : Factor w/ 0 levels: </span></span>
<span id="cb318-14"><a href="data-tibble.html#cb318-14"></a><span class="co">#&gt;  $ Logicals  : logi </span></span>
<span id="cb318-15"><a href="data-tibble.html#cb318-15"></a><span class="co">#&gt;  $ Characters: chr</span></span></code></pre></div>
<p>如果数据框 df 包含数据，现在要依据它创建一个空的数据框</p>
<div class="sourceCode" id="cb319"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb319-1"><a href="data-tibble.html#cb319-1"></a>empty_df =<span class="st"> </span>df[<span class="ot">FALSE</span>,]</span></code></pre></div>
<p>还可以使用 structure 构造一个数据框，并且我们发现它的效率更高</p>
<div class="sourceCode" id="cb320"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb320-1"><a href="data-tibble.html#cb320-1"></a>s &lt;-<span class="st"> </span><span class="cf">function</span>() <span class="kw">structure</span>(<span class="kw">list</span>(</span>
<span id="cb320-2"><a href="data-tibble.html#cb320-2"></a>    <span class="dt">Date =</span> <span class="kw">as.Date</span>(<span class="kw">character</span>()),</span>
<span id="cb320-3"><a href="data-tibble.html#cb320-3"></a>    <span class="dt">File =</span> <span class="kw">character</span>(),</span>
<span id="cb320-4"><a href="data-tibble.html#cb320-4"></a>    <span class="dt">User =</span> <span class="kw">character</span>()</span>
<span id="cb320-5"><a href="data-tibble.html#cb320-5"></a>  ),</span>
<span id="cb320-6"><a href="data-tibble.html#cb320-6"></a>  <span class="dt">class =</span> <span class="st">&quot;data.frame&quot;</span></span>
<span id="cb320-7"><a href="data-tibble.html#cb320-7"></a>  )</span>
<span id="cb320-8"><a href="data-tibble.html#cb320-8"></a>d &lt;-<span class="st"> </span><span class="cf">function</span>() <span class="kw">data.frame</span>(</span>
<span id="cb320-9"><a href="data-tibble.html#cb320-9"></a>    <span class="dt">Date =</span> <span class="kw">as.Date</span>(<span class="kw">character</span>()),</span>
<span id="cb320-10"><a href="data-tibble.html#cb320-10"></a>    <span class="dt">File =</span> <span class="kw">character</span>(),</span>
<span id="cb320-11"><a href="data-tibble.html#cb320-11"></a>    <span class="dt">User =</span> <span class="kw">character</span>(),</span>
<span id="cb320-12"><a href="data-tibble.html#cb320-12"></a>    <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span></span>
<span id="cb320-13"><a href="data-tibble.html#cb320-13"></a>  )</span>
<span id="cb320-14"><a href="data-tibble.html#cb320-14"></a>microbenchmark<span class="op">::</span><span class="kw">microbenchmark</span>(<span class="kw">s</span>(), <span class="kw">d</span>())</span>
<span id="cb320-15"><a href="data-tibble.html#cb320-15"></a><span class="co">#&gt; Unit: microseconds</span></span>
<span id="cb320-16"><a href="data-tibble.html#cb320-16"></a><span class="co">#&gt;  expr     min       lq      mean   median      uq      max neval</span></span>
<span id="cb320-17"><a href="data-tibble.html#cb320-17"></a><span class="co">#&gt;   s()  16.576  18.6245  52.76629  23.5520  27.167 2663.410   100</span></span>
<span id="cb320-18"><a href="data-tibble.html#cb320-18"></a><span class="co">#&gt;   d() 186.034 192.7600 229.88711 200.5055 209.200 2641.369   100</span></span></code></pre></div>
</div>
<div id="remove-missing-values" class="section level3">
<h3><span class="header-section-number">6.2.2</span> 移除缺失记录</h3>
<p>只要行中包含缺失值，我们就把这样的行移除出去</p>
<div class="sourceCode" id="cb321"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb321-1"><a href="data-tibble.html#cb321-1"></a>airquality[<span class="kw">complete.cases</span>(airquality), ]</span>
<span id="cb321-2"><a href="data-tibble.html#cb321-2"></a><span class="co">#&gt;     Ozone Solar.R Wind Temp Month Day</span></span>
<span id="cb321-3"><a href="data-tibble.html#cb321-3"></a><span class="co">#&gt; 1      41     190  7.4   67     5   1</span></span>
<span id="cb321-4"><a href="data-tibble.html#cb321-4"></a><span class="co">#&gt; 2      36     118  8.0   72     5   2</span></span>
<span id="cb321-5"><a href="data-tibble.html#cb321-5"></a><span class="co">#&gt; 3      12     149 12.6   74     5   3</span></span>
<span id="cb321-6"><a href="data-tibble.html#cb321-6"></a><span class="co">#&gt; 4      18     313 11.5   62     5   4</span></span>
<span id="cb321-7"><a href="data-tibble.html#cb321-7"></a><span class="co">#&gt; 7      23     299  8.6   65     5   7</span></span>
<span id="cb321-8"><a href="data-tibble.html#cb321-8"></a><span class="co">#&gt; 8      19      99 13.8   59     5   8</span></span>
<span id="cb321-9"><a href="data-tibble.html#cb321-9"></a><span class="co">#&gt; 9       8      19 20.1   61     5   9</span></span>
<span id="cb321-10"><a href="data-tibble.html#cb321-10"></a><span class="co">#&gt; 12     16     256  9.7   69     5  12</span></span>
<span id="cb321-11"><a href="data-tibble.html#cb321-11"></a><span class="co">#&gt; 13     11     290  9.2   66     5  13</span></span>
<span id="cb321-12"><a href="data-tibble.html#cb321-12"></a><span class="co">#&gt; 14     14     274 10.9   68     5  14</span></span>
<span id="cb321-13"><a href="data-tibble.html#cb321-13"></a><span class="co">#&gt; 15     18      65 13.2   58     5  15</span></span>
<span id="cb321-14"><a href="data-tibble.html#cb321-14"></a><span class="co">#&gt; 16     14     334 11.5   64     5  16</span></span>
<span id="cb321-15"><a href="data-tibble.html#cb321-15"></a><span class="co">#&gt; 17     34     307 12.0   66     5  17</span></span>
<span id="cb321-16"><a href="data-tibble.html#cb321-16"></a><span class="co">#&gt; 18      6      78 18.4   57     5  18</span></span>
<span id="cb321-17"><a href="data-tibble.html#cb321-17"></a><span class="co">#&gt; 19     30     322 11.5   68     5  19</span></span>
<span id="cb321-18"><a href="data-tibble.html#cb321-18"></a><span class="co">#&gt; 20     11      44  9.7   62     5  20</span></span>
<span id="cb321-19"><a href="data-tibble.html#cb321-19"></a><span class="co">#&gt; 21      1       8  9.7   59     5  21</span></span>
<span id="cb321-20"><a href="data-tibble.html#cb321-20"></a><span class="co">#&gt; 22     11     320 16.6   73     5  22</span></span>
<span id="cb321-21"><a href="data-tibble.html#cb321-21"></a><span class="co">#&gt; 23      4      25  9.7   61     5  23</span></span>
<span id="cb321-22"><a href="data-tibble.html#cb321-22"></a><span class="co">#&gt; 24     32      92 12.0   61     5  24</span></span>
<span id="cb321-23"><a href="data-tibble.html#cb321-23"></a><span class="co">#&gt; 28     23      13 12.0   67     5  28</span></span>
<span id="cb321-24"><a href="data-tibble.html#cb321-24"></a><span class="co">#&gt; 29     45     252 14.9   81     5  29</span></span>
<span id="cb321-25"><a href="data-tibble.html#cb321-25"></a><span class="co">#&gt; 30    115     223  5.7   79     5  30</span></span>
<span id="cb321-26"><a href="data-tibble.html#cb321-26"></a><span class="co">#&gt; 31     37     279  7.4   76     5  31</span></span>
<span id="cb321-27"><a href="data-tibble.html#cb321-27"></a><span class="co">#&gt; 38     29     127  9.7   82     6   7</span></span>
<span id="cb321-28"><a href="data-tibble.html#cb321-28"></a><span class="co">#&gt; 40     71     291 13.8   90     6   9</span></span>
<span id="cb321-29"><a href="data-tibble.html#cb321-29"></a><span class="co">#&gt; 41     39     323 11.5   87     6  10</span></span>
<span id="cb321-30"><a href="data-tibble.html#cb321-30"></a><span class="co">#&gt; 44     23     148  8.0   82     6  13</span></span>
<span id="cb321-31"><a href="data-tibble.html#cb321-31"></a><span class="co">#&gt; 47     21     191 14.9   77     6  16</span></span>
<span id="cb321-32"><a href="data-tibble.html#cb321-32"></a><span class="co">#&gt; 48     37     284 20.7   72     6  17</span></span>
<span id="cb321-33"><a href="data-tibble.html#cb321-33"></a><span class="co">#&gt; 49     20      37  9.2   65     6  18</span></span>
<span id="cb321-34"><a href="data-tibble.html#cb321-34"></a><span class="co">#&gt; 50     12     120 11.5   73     6  19</span></span>
<span id="cb321-35"><a href="data-tibble.html#cb321-35"></a><span class="co">#&gt; 51     13     137 10.3   76     6  20</span></span>
<span id="cb321-36"><a href="data-tibble.html#cb321-36"></a><span class="co">#&gt; 62    135     269  4.1   84     7   1</span></span>
<span id="cb321-37"><a href="data-tibble.html#cb321-37"></a><span class="co">#&gt; 63     49     248  9.2   85     7   2</span></span>
<span id="cb321-38"><a href="data-tibble.html#cb321-38"></a><span class="co">#&gt; 64     32     236  9.2   81     7   3</span></span>
<span id="cb321-39"><a href="data-tibble.html#cb321-39"></a><span class="co">#&gt; 66     64     175  4.6   83     7   5</span></span>
<span id="cb321-40"><a href="data-tibble.html#cb321-40"></a><span class="co">#&gt; 67     40     314 10.9   83     7   6</span></span>
<span id="cb321-41"><a href="data-tibble.html#cb321-41"></a><span class="co">#&gt; 68     77     276  5.1   88     7   7</span></span>
<span id="cb321-42"><a href="data-tibble.html#cb321-42"></a><span class="co">#&gt; 69     97     267  6.3   92     7   8</span></span>
<span id="cb321-43"><a href="data-tibble.html#cb321-43"></a><span class="co">#&gt; 70     97     272  5.7   92     7   9</span></span>
<span id="cb321-44"><a href="data-tibble.html#cb321-44"></a><span class="co">#&gt; 71     85     175  7.4   89     7  10</span></span>
<span id="cb321-45"><a href="data-tibble.html#cb321-45"></a><span class="co">#&gt; 73     10     264 14.3   73     7  12</span></span>
<span id="cb321-46"><a href="data-tibble.html#cb321-46"></a><span class="co">#&gt; 74     27     175 14.9   81     7  13</span></span>
<span id="cb321-47"><a href="data-tibble.html#cb321-47"></a><span class="co">#&gt; 76      7      48 14.3   80     7  15</span></span>
<span id="cb321-48"><a href="data-tibble.html#cb321-48"></a><span class="co">#&gt; 77     48     260  6.9   81     7  16</span></span>
<span id="cb321-49"><a href="data-tibble.html#cb321-49"></a><span class="co">#&gt; 78     35     274 10.3   82     7  17</span></span>
<span id="cb321-50"><a href="data-tibble.html#cb321-50"></a><span class="co">#&gt; 79     61     285  6.3   84     7  18</span></span>
<span id="cb321-51"><a href="data-tibble.html#cb321-51"></a><span class="co">#&gt; 80     79     187  5.1   87     7  19</span></span>
<span id="cb321-52"><a href="data-tibble.html#cb321-52"></a><span class="co">#&gt; 81     63     220 11.5   85     7  20</span></span>
<span id="cb321-53"><a href="data-tibble.html#cb321-53"></a><span class="co">#&gt; 82     16       7  6.9   74     7  21</span></span>
<span id="cb321-54"><a href="data-tibble.html#cb321-54"></a><span class="co">#&gt; 85     80     294  8.6   86     7  24</span></span>
<span id="cb321-55"><a href="data-tibble.html#cb321-55"></a><span class="co">#&gt; 86    108     223  8.0   85     7  25</span></span>
<span id="cb321-56"><a href="data-tibble.html#cb321-56"></a><span class="co">#&gt; 87     20      81  8.6   82     7  26</span></span>
<span id="cb321-57"><a href="data-tibble.html#cb321-57"></a><span class="co">#&gt; 88     52      82 12.0   86     7  27</span></span>
<span id="cb321-58"><a href="data-tibble.html#cb321-58"></a><span class="co">#&gt; 89     82     213  7.4   88     7  28</span></span>
<span id="cb321-59"><a href="data-tibble.html#cb321-59"></a><span class="co">#&gt; 90     50     275  7.4   86     7  29</span></span>
<span id="cb321-60"><a href="data-tibble.html#cb321-60"></a><span class="co">#&gt; 91     64     253  7.4   83     7  30</span></span>
<span id="cb321-61"><a href="data-tibble.html#cb321-61"></a><span class="co">#&gt; 92     59     254  9.2   81     7  31</span></span>
<span id="cb321-62"><a href="data-tibble.html#cb321-62"></a><span class="co">#&gt; 93     39      83  6.9   81     8   1</span></span>
<span id="cb321-63"><a href="data-tibble.html#cb321-63"></a><span class="co">#&gt; 94      9      24 13.8   81     8   2</span></span>
<span id="cb321-64"><a href="data-tibble.html#cb321-64"></a><span class="co">#&gt; 95     16      77  7.4   82     8   3</span></span>
<span id="cb321-65"><a href="data-tibble.html#cb321-65"></a><span class="co">#&gt; 99    122     255  4.0   89     8   7</span></span>
<span id="cb321-66"><a href="data-tibble.html#cb321-66"></a><span class="co">#&gt; 100    89     229 10.3   90     8   8</span></span>
<span id="cb321-67"><a href="data-tibble.html#cb321-67"></a><span class="co">#&gt; 101   110     207  8.0   90     8   9</span></span>
<span id="cb321-68"><a href="data-tibble.html#cb321-68"></a><span class="co">#&gt; 104    44     192 11.5   86     8  12</span></span>
<span id="cb321-69"><a href="data-tibble.html#cb321-69"></a><span class="co">#&gt; 105    28     273 11.5   82     8  13</span></span>
<span id="cb321-70"><a href="data-tibble.html#cb321-70"></a><span class="co">#&gt; 106    65     157  9.7   80     8  14</span></span>
<span id="cb321-71"><a href="data-tibble.html#cb321-71"></a><span class="co">#&gt; 108    22      71 10.3   77     8  16</span></span>
<span id="cb321-72"><a href="data-tibble.html#cb321-72"></a><span class="co">#&gt; 109    59      51  6.3   79     8  17</span></span>
<span id="cb321-73"><a href="data-tibble.html#cb321-73"></a><span class="co">#&gt; 110    23     115  7.4   76     8  18</span></span>
<span id="cb321-74"><a href="data-tibble.html#cb321-74"></a><span class="co">#&gt; 111    31     244 10.9   78     8  19</span></span>
<span id="cb321-75"><a href="data-tibble.html#cb321-75"></a><span class="co">#&gt; 112    44     190 10.3   78     8  20</span></span>
<span id="cb321-76"><a href="data-tibble.html#cb321-76"></a><span class="co">#&gt; 113    21     259 15.5   77     8  21</span></span>
<span id="cb321-77"><a href="data-tibble.html#cb321-77"></a><span class="co">#&gt; 114     9      36 14.3   72     8  22</span></span>
<span id="cb321-78"><a href="data-tibble.html#cb321-78"></a><span class="co">#&gt; 116    45     212  9.7   79     8  24</span></span>
<span id="cb321-79"><a href="data-tibble.html#cb321-79"></a><span class="co">#&gt; 117   168     238  3.4   81     8  25</span></span>
<span id="cb321-80"><a href="data-tibble.html#cb321-80"></a><span class="co">#&gt; 118    73     215  8.0   86     8  26</span></span>
<span id="cb321-81"><a href="data-tibble.html#cb321-81"></a><span class="co">#&gt; 120    76     203  9.7   97     8  28</span></span>
<span id="cb321-82"><a href="data-tibble.html#cb321-82"></a><span class="co">#&gt; 121   118     225  2.3   94     8  29</span></span>
<span id="cb321-83"><a href="data-tibble.html#cb321-83"></a><span class="co">#&gt; 122    84     237  6.3   96     8  30</span></span>
<span id="cb321-84"><a href="data-tibble.html#cb321-84"></a><span class="co">#&gt; 123    85     188  6.3   94     8  31</span></span>
<span id="cb321-85"><a href="data-tibble.html#cb321-85"></a><span class="co">#&gt; 124    96     167  6.9   91     9   1</span></span>
<span id="cb321-86"><a href="data-tibble.html#cb321-86"></a><span class="co">#&gt; 125    78     197  5.1   92     9   2</span></span>
<span id="cb321-87"><a href="data-tibble.html#cb321-87"></a><span class="co">#&gt; 126    73     183  2.8   93     9   3</span></span>
<span id="cb321-88"><a href="data-tibble.html#cb321-88"></a><span class="co">#&gt; 127    91     189  4.6   93     9   4</span></span>
<span id="cb321-89"><a href="data-tibble.html#cb321-89"></a><span class="co">#&gt; 128    47      95  7.4   87     9   5</span></span>
<span id="cb321-90"><a href="data-tibble.html#cb321-90"></a><span class="co">#&gt; 129    32      92 15.5   84     9   6</span></span>
<span id="cb321-91"><a href="data-tibble.html#cb321-91"></a><span class="co">#&gt; 130    20     252 10.9   80     9   7</span></span>
<span id="cb321-92"><a href="data-tibble.html#cb321-92"></a><span class="co">#&gt; 131    23     220 10.3   78     9   8</span></span>
<span id="cb321-93"><a href="data-tibble.html#cb321-93"></a><span class="co">#&gt; 132    21     230 10.9   75     9   9</span></span>
<span id="cb321-94"><a href="data-tibble.html#cb321-94"></a><span class="co">#&gt; 133    24     259  9.7   73     9  10</span></span>
<span id="cb321-95"><a href="data-tibble.html#cb321-95"></a><span class="co">#&gt; 134    44     236 14.9   81     9  11</span></span>
<span id="cb321-96"><a href="data-tibble.html#cb321-96"></a><span class="co">#&gt; 135    21     259 15.5   76     9  12</span></span>
<span id="cb321-97"><a href="data-tibble.html#cb321-97"></a><span class="co">#&gt; 136    28     238  6.3   77     9  13</span></span>
<span id="cb321-98"><a href="data-tibble.html#cb321-98"></a><span class="co">#&gt; 137     9      24 10.9   71     9  14</span></span>
<span id="cb321-99"><a href="data-tibble.html#cb321-99"></a><span class="co">#&gt; 138    13     112 11.5   71     9  15</span></span>
<span id="cb321-100"><a href="data-tibble.html#cb321-100"></a><span class="co">#&gt; 139    46     237  6.9   78     9  16</span></span>
<span id="cb321-101"><a href="data-tibble.html#cb321-101"></a><span class="co">#&gt; 140    18     224 13.8   67     9  17</span></span>
<span id="cb321-102"><a href="data-tibble.html#cb321-102"></a><span class="co">#&gt; 141    13      27 10.3   76     9  18</span></span>
<span id="cb321-103"><a href="data-tibble.html#cb321-103"></a><span class="co">#&gt; 142    24     238 10.3   68     9  19</span></span>
<span id="cb321-104"><a href="data-tibble.html#cb321-104"></a><span class="co">#&gt; 143    16     201  8.0   82     9  20</span></span>
<span id="cb321-105"><a href="data-tibble.html#cb321-105"></a><span class="co">#&gt; 144    13     238 12.6   64     9  21</span></span>
<span id="cb321-106"><a href="data-tibble.html#cb321-106"></a><span class="co">#&gt; 145    23      14  9.2   71     9  22</span></span>
<span id="cb321-107"><a href="data-tibble.html#cb321-107"></a><span class="co">#&gt; 146    36     139 10.3   81     9  23</span></span>
<span id="cb321-108"><a href="data-tibble.html#cb321-108"></a><span class="co">#&gt; 147     7      49 10.3   69     9  24</span></span>
<span id="cb321-109"><a href="data-tibble.html#cb321-109"></a><span class="co">#&gt; 148    14      20 16.6   63     9  25</span></span>
<span id="cb321-110"><a href="data-tibble.html#cb321-110"></a><span class="co">#&gt; 149    30     193  6.9   70     9  26</span></span>
<span id="cb321-111"><a href="data-tibble.html#cb321-111"></a><span class="co">#&gt; 151    14     191 14.3   75     9  28</span></span>
<span id="cb321-112"><a href="data-tibble.html#cb321-112"></a><span class="co">#&gt; 152    18     131  8.0   76     9  29</span></span>
<span id="cb321-113"><a href="data-tibble.html#cb321-113"></a><span class="co">#&gt; 153    20     223 11.5   68     9  30</span></span></code></pre></div>
</div>
<div id="coerce-data-type" class="section level3">
<h3><span class="header-section-number">6.2.3</span> 数据类型转化</h3>
<div class="sourceCode" id="cb322"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb322-1"><a href="data-tibble.html#cb322-1"></a><span class="kw">str</span>(PlantGrowth)</span>
<span id="cb322-2"><a href="data-tibble.html#cb322-2"></a><span class="co">#&gt; &#39;data.frame&#39;:    30 obs. of  2 variables:</span></span>
<span id="cb322-3"><a href="data-tibble.html#cb322-3"></a><span class="co">#&gt;  $ weight: num  4.17 5.58 5.18 6.11 4.5 4.61 5.17 4.53 5.33 5.14 ...</span></span>
<span id="cb322-4"><a href="data-tibble.html#cb322-4"></a><span class="co">#&gt;  $ group : Factor w/ 3 levels &quot;ctrl&quot;,&quot;trt1&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...</span></span>
<span id="cb322-5"><a href="data-tibble.html#cb322-5"></a>bob &lt;-<span class="st"> </span>PlantGrowth</span>
<span id="cb322-6"><a href="data-tibble.html#cb322-6"></a>i &lt;-<span class="st"> </span><span class="kw">sapply</span>(bob, is.factor)</span>
<span id="cb322-7"><a href="data-tibble.html#cb322-7"></a>bob[i] &lt;-<span class="st"> </span><span class="kw">lapply</span>(bob[i], as.character)</span>
<span id="cb322-8"><a href="data-tibble.html#cb322-8"></a><span class="kw">str</span>(bob)</span>
<span id="cb322-9"><a href="data-tibble.html#cb322-9"></a><span class="co">#&gt; &#39;data.frame&#39;:    30 obs. of  2 variables:</span></span>
<span id="cb322-10"><a href="data-tibble.html#cb322-10"></a><span class="co">#&gt;  $ weight: num  4.17 5.58 5.18 6.11 4.5 4.61 5.17 4.53 5.33 5.14 ...</span></span>
<span id="cb322-11"><a href="data-tibble.html#cb322-11"></a><span class="co">#&gt;  $ group : chr  &quot;ctrl&quot; &quot;ctrl&quot; &quot;ctrl&quot; &quot;ctrl&quot; ...</span></span></code></pre></div>
</div>
<div id="cross-group-by" class="section level3">
<h3><span class="header-section-number">6.2.4</span> 跨列分组求和</h3>
<p>输入是一个数据框 data.frame，按照其中某一变量分组，然后计算任意数量的变量的行和和列和。</p>
<p>空气质量数据集 airquality 按月份 Month 分组，然后求取满足条件的列的和</p>
<div class="sourceCode" id="cb323"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb323-1"><a href="data-tibble.html#cb323-1"></a><span class="kw">Reduce</span>(rbind, <span class="kw">lapply</span>(<span class="kw">unique</span>(airquality<span class="op">$</span>Month), <span class="cf">function</span>(gv) {</span>
<span id="cb323-2"><a href="data-tibble.html#cb323-2"></a>  subdta &lt;-<span class="st"> </span><span class="kw">subset</span>(airquality, <span class="dt">subset =</span> Month <span class="op">==</span><span class="st"> </span>gv)</span>
<span id="cb323-3"><a href="data-tibble.html#cb323-3"></a>  <span class="kw">data.frame</span>(</span>
<span id="cb323-4"><a href="data-tibble.html#cb323-4"></a>    <span class="dt">Colsum =</span> <span class="kw">as.numeric</span>(</span>
<span id="cb323-5"><a href="data-tibble.html#cb323-5"></a>      <span class="kw">colSums</span>(subdta[, <span class="kw">grepl</span>(<span class="st">&quot;[mM]&quot;</span>, <span class="kw">names</span>(airquality))], <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</span>
<span id="cb323-6"><a href="data-tibble.html#cb323-6"></a>    ),</span>
<span id="cb323-7"><a href="data-tibble.html#cb323-7"></a>    <span class="dt">Month =</span> gv</span>
<span id="cb323-8"><a href="data-tibble.html#cb323-8"></a>  )</span>
<span id="cb323-9"><a href="data-tibble.html#cb323-9"></a>}))</span>
<span id="cb323-10"><a href="data-tibble.html#cb323-10"></a><span class="co">#&gt;    Colsum Month</span></span>
<span id="cb323-11"><a href="data-tibble.html#cb323-11"></a><span class="co">#&gt; 1    2032     5</span></span>
<span id="cb323-12"><a href="data-tibble.html#cb323-12"></a><span class="co">#&gt; 2     155     5</span></span>
<span id="cb323-13"><a href="data-tibble.html#cb323-13"></a><span class="co">#&gt; 3    2373     6</span></span>
<span id="cb323-14"><a href="data-tibble.html#cb323-14"></a><span class="co">#&gt; 4     180     6</span></span>
<span id="cb323-15"><a href="data-tibble.html#cb323-15"></a><span class="co">#&gt; 5    2601     7</span></span>
<span id="cb323-16"><a href="data-tibble.html#cb323-16"></a><span class="co">#&gt; 6     217     7</span></span>
<span id="cb323-17"><a href="data-tibble.html#cb323-17"></a><span class="co">#&gt; 7    2603     8</span></span>
<span id="cb323-18"><a href="data-tibble.html#cb323-18"></a><span class="co">#&gt; 8     248     8</span></span>
<span id="cb323-19"><a href="data-tibble.html#cb323-19"></a><span class="co">#&gt; 9    2307     9</span></span>
<span id="cb323-20"><a href="data-tibble.html#cb323-20"></a><span class="co">#&gt; 10    270     9</span></span></code></pre></div>
<p>什么是函数式编程，R 语言环境下的函数式编程是如何操作的</p>
</div>
</div>
<div id="pipe-manipulation" class="section level2">
<h2><span class="header-section-number">6.3</span> 管道操作</h2>
<p><a href="http://stefanbache.dk/">Stefan Milton Bache</a> 开发了 <a href="https://github.com/tidyverse/magrittr">magrittr</a> 包实现管道操作，增加代码的可读性和维护性，但是这个 R 包的名字取的太奇葩，因为 <a href="https://d.cosx.org/d/420697/21">记不住</a>，它其实是一个复杂的<a href="https://magrittr.tidyverse.org/articles/magrittr.html">法语发音</a>，中式英语就叫它马格里特吧！这下应该好记多了吧！</p>
<p>我要查看是否需要新添加一个 R 包依赖，假设该 R 包是 reticulate 没有出现在 DESCRIPTION 文件中，但是可能已经被其中某（个）些 R 包依赖了</p>
<div class="sourceCode" id="cb324"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb324-1"><a href="data-tibble.html#cb324-1"></a><span class="st">&quot;reticulate&quot;</span> <span class="op">%in%</span><span class="st"> </span><span class="kw">sort</span>(<span class="kw">unique</span>(<span class="kw">unlist</span>(tools<span class="op">::</span><span class="kw">package_dependencies</span>(desc<span class="op">::</span><span class="kw">desc_get_deps</span>()<span class="op">$</span>package, <span class="dt">recursive =</span> <span class="ot">TRUE</span>))))</span>
<span id="cb324-2"><a href="data-tibble.html#cb324-2"></a><span class="co">#&gt; [1] FALSE</span></span></code></pre></div>
<p>安装 pkg 的依赖</p>
<div class="sourceCode" id="cb325"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb325-1"><a href="data-tibble.html#cb325-1"></a>pkg &lt;-<span class="st"> </span><span class="kw">c</span>(</span>
<span id="cb325-2"><a href="data-tibble.html#cb325-2"></a>  <span class="st">&quot;bookdown&quot;</span>,</span>
<span id="cb325-3"><a href="data-tibble.html#cb325-3"></a>  <span class="st">&quot;e1071&quot;</span>,</span>
<span id="cb325-4"><a href="data-tibble.html#cb325-4"></a>  <span class="st">&quot;formatR&quot;</span>,</span>
<span id="cb325-5"><a href="data-tibble.html#cb325-5"></a>  <span class="st">&quot;lme4&quot;</span>,</span>
<span id="cb325-6"><a href="data-tibble.html#cb325-6"></a>  <span class="st">&quot;mvtnorm&quot;</span>,</span>
<span id="cb325-7"><a href="data-tibble.html#cb325-7"></a>  <span class="st">&quot;prettydoc&quot;</span>, <span class="st">&quot;psych&quot;</span>,</span>
<span id="cb325-8"><a href="data-tibble.html#cb325-8"></a>  <span class="st">&quot;reticulate&quot;</span>, <span class="st">&quot;rstan&quot;</span>, <span class="st">&quot;rstanarm&quot;</span>, <span class="st">&quot;rticles&quot;</span>,</span>
<span id="cb325-9"><a href="data-tibble.html#cb325-9"></a>  <span class="st">&quot;svglite&quot;</span>,</span>
<span id="cb325-10"><a href="data-tibble.html#cb325-10"></a>  <span class="st">&quot;TMB&quot;</span>, <span class="st">&quot;glmmTMB&quot;</span></span>
<span id="cb325-11"><a href="data-tibble.html#cb325-11"></a>)</span>
<span id="cb325-12"><a href="data-tibble.html#cb325-12"></a><span class="co"># 获取 pkg 的所有依赖</span></span>
<span id="cb325-13"><a href="data-tibble.html#cb325-13"></a>dep_pkg &lt;-<span class="st"> </span>tools<span class="op">::</span><span class="kw">package_dependencies</span>(pkg, <span class="dt">recursive =</span> <span class="ot">TRUE</span>)</span>
<span id="cb325-14"><a href="data-tibble.html#cb325-14"></a><span class="co"># 将列表 list 合并为向量 vector</span></span>
<span id="cb325-15"><a href="data-tibble.html#cb325-15"></a>merge_pkg &lt;-<span class="st"> </span><span class="kw">Reduce</span>(<span class="st">&quot;c&quot;</span>, dep_pkg, <span class="dt">accumulate =</span> <span class="ot">FALSE</span>)</span>
<span id="cb325-16"><a href="data-tibble.html#cb325-16"></a><span class="co"># 所有未安装的 R 包</span></span>
<span id="cb325-17"><a href="data-tibble.html#cb325-17"></a>miss_pkg &lt;-<span class="st"> </span><span class="kw">setdiff</span>(<span class="kw">unique</span>(merge_pkg), <span class="kw">unique</span>(<span class="kw">.packages</span>(<span class="ot">TRUE</span>)))</span>
<span id="cb325-18"><a href="data-tibble.html#cb325-18"></a><span class="co"># 除了 pkg 外，未安装的 R 包，安装 pkg 的依赖</span></span>
<span id="cb325-19"><a href="data-tibble.html#cb325-19"></a><span class="kw">sort</span>(<span class="kw">setdiff</span>(miss_pkg, pkg))</span>
<span id="cb325-20"><a href="data-tibble.html#cb325-20"></a><span class="co">#&gt;  [1] &quot;bayesplot&quot;    &quot;checkmate&quot;    &quot;dygraphs&quot;     &quot;gtools&quot;       &quot;inline&quot;      </span></span>
<span id="cb325-21"><a href="data-tibble.html#cb325-21"></a><span class="co">#&gt;  [6] &quot;loo&quot;          &quot;matrixStats&quot;  &quot;minqa&quot;        &quot;mnormt&quot;       &quot;nloptr&quot;      </span></span>
<span id="cb325-22"><a href="data-tibble.html#cb325-22"></a><span class="co">#&gt; [11] &quot;packrat&quot;      &quot;RcppParallel&quot; &quot;rsconnect&quot;    &quot;rstantools&quot;   &quot;shinystan&quot;   </span></span>
<span id="cb325-23"><a href="data-tibble.html#cb325-23"></a><span class="co">#&gt; [16] &quot;shinythemes&quot;  &quot;StanHeaders&quot;  &quot;statmod&quot;      &quot;threejs&quot;      &quot;tmvnsim&quot;</span></span></code></pre></div>
<p>转化为管道操作，增加可读性</p>
<blockquote>
<p>再举一个关于数据模拟的例子</p>
</blockquote>
<p>模拟 0-1 序列，</p>
<div class="sourceCode" id="cb326"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb326-1"><a href="data-tibble.html#cb326-1"></a><span class="kw">set.seed</span>(<span class="dv">2019</span>)</span>
<span id="cb326-2"><a href="data-tibble.html#cb326-2"></a>binom_sample &lt;-<span class="st"> </span><span class="cf">function</span>(n) {</span>
<span id="cb326-3"><a href="data-tibble.html#cb326-3"></a>  <span class="kw">sum</span>(<span class="kw">sample</span>(<span class="dt">x =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">1</span>), <span class="dt">size =</span> n, <span class="dt">prob =</span> <span class="kw">c</span>(<span class="fl">0.8</span>, <span class="fl">0.2</span>), <span class="dt">replace =</span> <span class="ot">TRUE</span>))<span class="op">/</span>n</span>
<span id="cb326-4"><a href="data-tibble.html#cb326-4"></a>}</span>
<span id="cb326-5"><a href="data-tibble.html#cb326-5"></a><span class="co"># 频率估计概率</span></span>
<span id="cb326-6"><a href="data-tibble.html#cb326-6"></a>one_prob &lt;-<span class="st"> </span><span class="kw">sapply</span>(<span class="dv">10</span><span class="op">^</span>(<span class="kw">seq</span>(<span class="dv">8</span>)), binom_sample)</span>
<span id="cb326-7"><a href="data-tibble.html#cb326-7"></a><span class="co"># 估计的误差</span></span>
<span id="cb326-8"><a href="data-tibble.html#cb326-8"></a>one_abs &lt;-<span class="st"> </span><span class="kw">abs</span>(one_prob <span class="op">-</span><span class="st"> </span><span class="fl">0.2</span>)</span>
<span id="cb326-9"><a href="data-tibble.html#cb326-9"></a>one_abs</span>
<span id="cb326-10"><a href="data-tibble.html#cb326-10"></a><span class="co">#&gt; [1] 1.000e-01 1.000e-02 1.100e-02 4.400e-03 1.460e-03 3.980e-04 4.700e-06</span></span>
<span id="cb326-11"><a href="data-tibble.html#cb326-11"></a><span class="co">#&gt; [8] 9.552e-05</span></span></code></pre></div>
<p>似然估计</p>
</div>
<div id="dm-dplyr-rsession" class="section level2">
<h2><span class="header-section-number">6.4</span> 运行环境</h2>
<div class="sourceCode" id="cb327"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb327-1"><a href="data-tibble.html#cb327-1"></a>xfun<span class="op">::</span><span class="kw">session_info</span>()</span>
<span id="cb327-2"><a href="data-tibble.html#cb327-2"></a><span class="co">#&gt; R version 4.0.0 (2020-04-24)</span></span>
<span id="cb327-3"><a href="data-tibble.html#cb327-3"></a><span class="co">#&gt; Platform: x86_64-pc-linux-gnu (64-bit)</span></span>
<span id="cb327-4"><a href="data-tibble.html#cb327-4"></a><span class="co">#&gt; Running under: Ubuntu 16.04.6 LTS</span></span>
<span id="cb327-5"><a href="data-tibble.html#cb327-5"></a><span class="co">#&gt; </span></span>
<span id="cb327-6"><a href="data-tibble.html#cb327-6"></a><span class="co">#&gt; Locale:</span></span>
<span id="cb327-7"><a href="data-tibble.html#cb327-7"></a><span class="co">#&gt;   LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              </span></span>
<span id="cb327-8"><a href="data-tibble.html#cb327-8"></a><span class="co">#&gt;   LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    </span></span>
<span id="cb327-9"><a href="data-tibble.html#cb327-9"></a><span class="co">#&gt;   LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   </span></span>
<span id="cb327-10"><a href="data-tibble.html#cb327-10"></a><span class="co">#&gt;   LC_PAPER=en_US.UTF-8       LC_NAME=C                 </span></span>
<span id="cb327-11"><a href="data-tibble.html#cb327-11"></a><span class="co">#&gt;   LC_ADDRESS=C               LC_TELEPHONE=C            </span></span>
<span id="cb327-12"><a href="data-tibble.html#cb327-12"></a><span class="co">#&gt;   LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       </span></span>
<span id="cb327-13"><a href="data-tibble.html#cb327-13"></a><span class="co">#&gt; </span></span>
<span id="cb327-14"><a href="data-tibble.html#cb327-14"></a><span class="co">#&gt; Package version:</span></span>
<span id="cb327-15"><a href="data-tibble.html#cb327-15"></a><span class="co">#&gt;   askpass_1.1          assertthat_0.2.1     backports_1.1.8     </span></span>
<span id="cb327-16"><a href="data-tibble.html#cb327-16"></a><span class="co">#&gt;   base64enc_0.1.3      BH_1.72.0.3          blob_1.2.1          </span></span>
<span id="cb327-17"><a href="data-tibble.html#cb327-17"></a><span class="co">#&gt;   bookdown_0.20        broom_0.5.6          callr_3.4.3         </span></span>
<span id="cb327-18"><a href="data-tibble.html#cb327-18"></a><span class="co">#&gt;   cellranger_1.1.0     cli_2.0.2            clipr_0.7.0         </span></span>
<span id="cb327-19"><a href="data-tibble.html#cb327-19"></a><span class="co">#&gt;   codetools_0.2-16     colorspace_1.4-1     compiler_4.0.0      </span></span>
<span id="cb327-20"><a href="data-tibble.html#cb327-20"></a><span class="co">#&gt;   crayon_1.3.4         curl_4.3             DBI_1.1.0           </span></span>
<span id="cb327-21"><a href="data-tibble.html#cb327-21"></a><span class="co">#&gt;   dbplyr_1.4.4         desc_1.2.0           digest_0.6.25       </span></span>
<span id="cb327-22"><a href="data-tibble.html#cb327-22"></a><span class="co">#&gt;   dplyr_1.0.0          ellipsis_0.3.1       evaluate_0.14       </span></span>
<span id="cb327-23"><a href="data-tibble.html#cb327-23"></a><span class="co">#&gt;   fansi_0.4.1          farver_2.0.3         forcats_0.5.0       </span></span>
<span id="cb327-24"><a href="data-tibble.html#cb327-24"></a><span class="co">#&gt;   fs_1.4.2             generics_0.0.2       ggplot2_3.3.2       </span></span>
<span id="cb327-25"><a href="data-tibble.html#cb327-25"></a><span class="co">#&gt;   glue_1.4.1           graphics_4.0.0       grDevices_4.0.0     </span></span>
<span id="cb327-26"><a href="data-tibble.html#cb327-26"></a><span class="co">#&gt;   grid_4.0.0           gtable_0.3.0         haven_2.3.1         </span></span>
<span id="cb327-27"><a href="data-tibble.html#cb327-27"></a><span class="co">#&gt;   highr_0.8            hms_0.5.3            htmltools_0.5.0     </span></span>
<span id="cb327-28"><a href="data-tibble.html#cb327-28"></a><span class="co">#&gt;   httr_1.4.1           isoband_0.2.2        jsonlite_1.7.0      </span></span>
<span id="cb327-29"><a href="data-tibble.html#cb327-29"></a><span class="co">#&gt;   knitr_1.29           labeling_0.3         lattice_0.20-41     </span></span>
<span id="cb327-30"><a href="data-tibble.html#cb327-30"></a><span class="co">#&gt;   lifecycle_0.2.0      lubridate_1.7.9      magrittr_1.5        </span></span>
<span id="cb327-31"><a href="data-tibble.html#cb327-31"></a><span class="co">#&gt;   markdown_1.1         MASS_7.3.51.5        Matrix_1.2.18       </span></span>
<span id="cb327-32"><a href="data-tibble.html#cb327-32"></a><span class="co">#&gt;   methods_4.0.0        mgcv_1.8.31          microbenchmark_1.4-7</span></span>
<span id="cb327-33"><a href="data-tibble.html#cb327-33"></a><span class="co">#&gt;   mime_0.9             modelr_0.1.8         munsell_0.5.0       </span></span>
<span id="cb327-34"><a href="data-tibble.html#cb327-34"></a><span class="co">#&gt;   nlme_3.1-147         openssl_1.4.2        pillar_1.4.4        </span></span>
<span id="cb327-35"><a href="data-tibble.html#cb327-35"></a><span class="co">#&gt;   pkgbuild_1.0.8       pkgconfig_2.0.3      pkgload_1.1.0       </span></span>
<span id="cb327-36"><a href="data-tibble.html#cb327-36"></a><span class="co">#&gt;   plyr_1.8.6           praise_1.0.0         prettyunits_1.1.1   </span></span>
<span id="cb327-37"><a href="data-tibble.html#cb327-37"></a><span class="co">#&gt;   processx_3.4.3       progress_1.2.2       ps_1.3.3            </span></span>
<span id="cb327-38"><a href="data-tibble.html#cb327-38"></a><span class="co">#&gt;   purrr_0.3.4          R6_2.4.1             RColorBrewer_1.1.2  </span></span>
<span id="cb327-39"><a href="data-tibble.html#cb327-39"></a><span class="co">#&gt;   Rcpp_1.0.5           readr_1.3.1          readxl_1.3.1        </span></span>
<span id="cb327-40"><a href="data-tibble.html#cb327-40"></a><span class="co">#&gt;   rematch_1.0.1        reprex_0.3.0         reshape2_1.4.4      </span></span>
<span id="cb327-41"><a href="data-tibble.html#cb327-41"></a><span class="co">#&gt;   rlang_0.4.6          rmarkdown_2.3        rprojroot_1.3-2     </span></span>
<span id="cb327-42"><a href="data-tibble.html#cb327-42"></a><span class="co">#&gt;   rstudioapi_0.11      rvest_0.3.5          scales_1.1.1        </span></span>
<span id="cb327-43"><a href="data-tibble.html#cb327-43"></a><span class="co">#&gt;   selectr_0.4.2        splines_4.0.0        stats_4.0.0         </span></span>
<span id="cb327-44"><a href="data-tibble.html#cb327-44"></a><span class="co">#&gt;   stringi_1.4.6        stringr_1.4.0        sys_3.3             </span></span>
<span id="cb327-45"><a href="data-tibble.html#cb327-45"></a><span class="co">#&gt;   testthat_2.3.2       tibble_3.0.1         tidyr_1.1.0         </span></span>
<span id="cb327-46"><a href="data-tibble.html#cb327-46"></a><span class="co">#&gt;   tidyselect_1.1.0     tidyverse_1.3.0      tinytex_0.24        </span></span>
<span id="cb327-47"><a href="data-tibble.html#cb327-47"></a><span class="co">#&gt;   tools_4.0.0          utf8_1.1.4           utils_4.0.0         </span></span>
<span id="cb327-48"><a href="data-tibble.html#cb327-48"></a><span class="co">#&gt;   vctrs_0.3.1          viridisLite_0.3.0    whisker_0.4         </span></span>
<span id="cb327-49"><a href="data-tibble.html#cb327-49"></a><span class="co">#&gt;   withr_2.2.0          xfun_0.15            xml2_1.3.2          </span></span>
<span id="cb327-50"><a href="data-tibble.html#cb327-50"></a><span class="co">#&gt;   yaml_2.2.1</span></span></code></pre></div>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="23">
<li id="fn23"><p><a href="https://stackoverflow.com/questions/22959635/" class="uri">https://stackoverflow.com/questions/22959635/</a><a href="data-tibble.html#fnref23" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
<script>
window.onload = function() {

  var imgs = document.querySelectorAll('img');

  // Upon clicking an image, open a new window with the
  // dimensions of the image, pointing the `data-url` link
  var on_click = function (e) {
    var d = e.target.dataset || {};
    if (d.url) {
      // Add some extra height for the modebar
      var height = 'height=' + (e.target.clientHeight * 1.05);
      var width = 'width=' + e.target.clientWidth;
      var param = 'location=yes,' + height + ',' + width + ',scrollbars=yes,status=yes';
      window.open(e.target.dataset.url, '_blank', param);
    }
  };

  var on_hover = function (e) {
    var d = e.target.dataset || {};
    if (d.url) {
      e.target.style.cursor = 'pointer';
    }
  };

  for (var i = 0; i < imgs.length; i++) {
    imgs[i].addEventListener('click', on_click);
    imgs[i].addEventListener('mouseover', on_hover);
  }
};
</script>
            </section>

          </div>
        </div>
      </div>
<a href="data-frame.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-table.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": {}
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/XiangyunHuang/RGraphics/edit/master/data-tibble.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["r4ds.pdf", "r4ds.epub", "r4ds.mobi", "https://github.com/XiangyunHuang/RGraphics/raw/master/data-tibble.Rmd"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
